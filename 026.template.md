# Архитектура сетей 

Дано Vagrantfile (https://github.com/erlong15/otus-linux/tree/network (ветка network)) с начальным построением сети

* inetRouter
* centralRouter
* centralServer

тестировалось на virtualbox

Построить следующую архитектуру:
* Сеть office1
    * 192.168.2.0/26 - dev
    * 192.168.2.64/26 - test servers
    * 192.168.2.128/26 - managers
    * 192.168.2.192/26 - office hardware
* Сеть office2
    * 192.168.1.0/25 - dev
    * 192.168.1.128/26 - test servers
    * 192.168.1.192/26 - office hardware
* Сеть central
    * 192.168.0.0/28 - directors
    * 192.168.0.32/28 - office hardware
    * 192.168.0.64/26 - wifi

```text
Office1 ---\
            -----> Central --IRouter --> internet
Office2 ---/
```

Итого должны получится следующие сервера:
* inetRouter
* centralRouter
* office1Router
* office2Router
* centralServer
* office1Server
* office2Server

Теоретическая часть:
* Найти свободные подсети
* Посчитать сколько узлов в каждой подсети, включая свободные
* Указать broadcast адрес для каждой подсети
* проверить нет ли ошибок при разбиении

Практическая часть:
* Соединить офисы в сеть согласно схеме и настроить роутинг
* Все сервера и роутеры должны ходить в инет черз inetRouter
* Все сервера должны видеть друг друга у всех новых серверов отключить дефолт на нат (eth0), который вагрант поднимает для связи 
* при нехватке сетевых интервейсов добавить по несколько адресов на интерфейс

Формат сдачи ДЗ - vagrant + ansible
Критерии оценки:
* Статус "Принято" ставится, если сделана хотя бы часть.
* Задание со звездочкой - выполнить всё.

## Теоретическая часть

### Найти свободные подсети

[template]:[Табличный отчет](./026/001_ipcheck/table.md)

[template]:[Скрипт](./026/001_ipcheck/app.py)

[template]:[Лог скрипта](./026/001_ipcheck/report.txt)

### Посчитать сколько узлов в каждой подсети, включая свободные

[template]:[Табличный отчет](./026/002_ipcheck/table.md)

[template]:[Скрипт](./026/002_ipcheck/app.py)

### Указать broadcast адрес для каждой подсети

[template]:[Табличный отчет](./026/003_ipcheck/table.md)

[template]:[Скрипт](./026/003_ipcheck/app.py)

### Проверить нет ли ошибок при разбиении

[template]:[MD-отчет](./026/004_ipcheck/report.md)

[template]:[Скрипт](./026/004_ipcheck/app.py)

[template]:[Лог скрипта](./026/004_ipcheck/report.txt)

### Соединить офисы в сеть согласно схеме и настроить роутинг

Как-то так вижу схему подключения [template]:[Vagrantfile](./026/my_vm/Vagrantfile)

Ошибка:

```text
  Bringing machine 'office2Server' up with 'virtualbox' provider...
  ==> inetRouter: Box 'centos/6' could not be found. Attempting to find and install...
      inetRouter: Box Provider: virtualbox
      inetRouter: Box Version: >= 0
  The box 'centos/6' could not be found or
  could not be accessed in the remote catalog. If this is a private
  box on HashiCorp's Vagrant Cloud, please verify you're logged in via
  `vagrant login`. Also, please double-check the name. The expanded
  URL and error message are shown below:
  
  URL: ["https://vagrantcloud.com/centos/6"]
  Error: The requested URL returned error: 404
```

  поменял на centos/7

[vagrant@office1Server ~]$ sudo systemctl restart network
Job for network.service failed because the control process exited with error code. See "systemctl status network.service" and "journalctl -xe" for details.
