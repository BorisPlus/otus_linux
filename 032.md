# DNS

* взять стенд https://github.com/erlong15/vagrant-bind
* добавить еще один сервер client2
* завести в зоне dns.lab имена
  * web1 - смотрит на клиент1
  * web2  смотрит на клиент2
* завести еще одну зону newdns.lab
  * завести в ней запись
  * www - смотрит на обоих клиентов
* настроить split-dns
  * клиент1 - видит обе зоны, но в зоне dns.lab только web1
  * клиент2 видит только dns.lab
* настроить все без выключения selinux

## Исполнение

```shell
cd 032/vm/
cd ../vm/
vagrant destroy -f && vagrant up 
python3 v2a.py -o ../ansible/inventories/hosts # Это уже как кредо
cd ../ansible/
ansible-playbook playbooks/deploy.yml > ../files/deploy.yml.txt
```


<details><summary>см. лог `playbooks/deploy.yml`</summary>

```text

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [client2]
ok: [ns01]
ok: [ns02]
ok: [client1]

TASK [rollback to initial os state | rm -f /etc/resolv.conf] *******************
changed: [client2]
changed: [client1]
changed: [ns01]
changed: [ns02]

TASK [remove packages] *********************************************************
changed: [client2] => (item=bind)
changed: [client1] => (item=bind)
changed: [client2] => (item=bind-utils)
changed: [client1] => (item=bind-utils)
changed: [ns02] => (item=bind)
changed: [ns01] => (item=bind)
changed: [client2] => (item=ntp)
changed: [client1] => (item=ntp)
changed: [ns02] => (item=bind-utils)
changed: [ns01] => (item=bind-utils)
changed: [ns02] => (item=ntp)
changed: [ns01] => (item=ntp)

TASK [install packages] ********************************************************
changed: [ns01] => (item=bind)
changed: [client2] => (item=bind)
changed: [ns02] => (item=bind)
changed: [client1] => (item=bind)
changed: [ns01] => (item=bind-utils)
changed: [client2] => (item=bind-utils)
changed: [client1] => (item=bind-utils)
changed: [ns02] => (item=bind-utils)
changed: [ns01] => (item=ntp)
changed: [ns02] => (item=ntp)
changed: [client2] => (item=ntp)
changed: [client1] => (item=ntp)

TASK [copy transferkey to all servers and the client] **************************
ok: [ns01]
ok: [client1]
ok: [ns02]
ok: [client2]

TASK [network manager war | /etc/NetworkManager/NetworkManager.conf | content] ***
changed: [ns01]
changed: [ns02]
changed: [client2]
changed: [client1]

TASK [network manager war | /etc/NetworkManager/NetworkManager.conf | dns=none | if did not set] ***
skipping: [ns01]
skipping: [ns02]
skipping: [client1]
skipping: [client2]

TASK [network manager war | /etc/NetworkManager/NetworkManager.conf | dns=none] ***
ok: [client2]
ok: [ns02]
ok: [ns01]
ok: [client1]

TASK [ensure network is running and enabled] ***********************************
changed: [ns02]
changed: [ns01]
changed: [client2]
changed: [client1]

PLAY [ns01] ********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [ns01]

TASK [rollback to initial os state | rm -f /etc/named] *************************
changed: [ns01]

TASK [copy named.conf] *********************************************************
changed: [ns01]

TASK [copy zones] **************************************************************
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.client2)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.rev.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.rev)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.rev.client2)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab.rev.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab.rev)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab)

TASK [copy resolv.conf to the servers] *****************************************
changed: [ns01]

TASK [network manager war | chattr +i /etc/resolv.conf] ************************
changed: [ns01]

TASK [set /etc/named permissions] **********************************************
changed: [ns01]

TASK [ensure named is running and enabled] *************************************
changed: [ns01]

PLAY [ns02] ********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [ns02]

TASK [rollback to initial os state | rm -f /etc/named] *************************
changed: [ns02]

TASK [copy named.conf] *********************************************************
changed: [ns02]

TASK [copy resolv.conf to the servers] *****************************************
changed: [ns02]

TASK [network manager war | chattr +i /etc/resolv.conf] ************************
changed: [ns02]

TASK [set /etc/named permissions] **********************************************
changed: [ns02]

TASK [ensure named is running and enabled] *************************************
changed: [ns02]

PLAY [client1,client2] *********************************************************

TASK [Gathering Facts] *********************************************************
ok: [client1]
ok: [client2]

TASK [copy resolv.conf to the client] ******************************************
changed: [client1]
changed: [client2]

TASK [network manager war | rm -f /etc/resolv.conf] ****************************
changed: [client1]
changed: [client2]

TASK [copy rndc conf file] *****************************************************
ok: [client1]
ok: [client2]

TASK [copy motd to the client] *************************************************
ok: [client1]
ok: [client2]

PLAY RECAP *********************************************************************
client1                    : ok=13   changed=7    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
client2                    : ok=13   changed=7    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
ns01                       : ok=16   changed=12   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
ns02                       : ok=15   changed=11   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   


```

</details>

Подводным камнем является использование для трансфера зон разных ключей. Ниже показано как их сгенерировать и использовать.

## Демонстрация работоспособности

Напоминание:
* ns01 - "192.168.50.10"
* ns02 - "192.168.50.11"
* client1 (он же web1, www) - "192.168.50.15"
* client2 (он же web2, www) - "192.168.50.12"

На каждом хосте запущен [список команд](./032/ansible/playbooks/check.yml) для проверки доступности зон и хостов.

<details><summary>см. список команд</summary>

```properties
---
- hosts: all
  tasks:
  - name: dns access records checker
    shell: "{{ item }}"
    when: not("{{ item }}" == '')
    loop:
      - #
      - dig @192.168.50.10 +short -x 192.168.50.10
      - dig @192.168.50.10 +short -x 192.168.50.11
      - dig @192.168.50.10 +short -x 192.168.50.15
      - dig @192.168.50.10 +short -x 192.168.50.16
      - #
      - dig @192.168.50.11 +short -x 192.168.50.10
      - dig @192.168.50.11 +short -x 192.168.50.11
      - dig @192.168.50.11 +short -x 192.168.50.15
      - dig @192.168.50.11 +short -x 192.168.50.16
      - #
      - dig @192.168.50.10 +short ns01.dns.lab
      - dig @192.168.50.10 +short ns02.dns.lab
      - dig @192.168.50.10 +short web1.dns.lab
      - dig @192.168.50.10 +short web2.dns.lab
      - dig @192.168.50.10 +short ns01.newdns.lab
      - dig @192.168.50.10 +short ns02.newdns.lab
      - dig @192.168.50.10 +short www.newdns.lab
      - #
      - dig @192.168.50.11 +short ns01.dns.lab
      - dig @192.168.50.11 +short ns02.dns.lab
      - dig @192.168.50.11 +short web1.dns.lab
      - dig @192.168.50.11 +short web2.dns.lab
      - dig @192.168.50.11 +short ns01.newdns.lab
      - dig @192.168.50.11 +short ns02.newdns.lab
      - dig @192.168.50.11 +short www.newdns.lab
      - #
      - sudo named-checkconf -z
    register: check_content

  - name: Store check to files
    local_action:
      module: copy
      content: "{{ item['stdout'] }}"
      dest: "../../files/tests_reports/{{ inventory_hostname }}-{{ item['cmd'] | replace('/', '_') | replace(' ', '-') }}.txt"
    loop: "{{ check_content['results'] }}"
    when: item['stdout'] is defined
```

</details>
Вывод команд приведен в спойлерах: вывод команд либо есть и он правильный, либо вывода нет, что также подтверждает верность настройки.

```shell
ansible-playbook playbooks/check.yml > ../files/check.yml.txt
```


<details><summary>см. лог исполнения `playbooks/check.yml`</summary>

```text

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [client2]
ok: [ns02]
ok: [ns01]
ok: [client1]

TASK [dns access records checker] **********************************************
skipping: [ns01] => (item=None) 
skipping: [ns02] => (item=None) 
skipping: [client1] => (item=None) 
skipping: [client2] => (item=None) 
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [client1] => (item=None) 
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [client2] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [ns01] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [ns02] => (item=None) 
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [client2] => (item=None) 
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [client1] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [ns01] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [ns02] => (item=None) 
changed: [client2] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [client1] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.10 +short www.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [ns01] => (item=None) 
skipping: [ns02] => (item=None) 
changed: [client2] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [client2] => (item=None) 
changed: [client1] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short www.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
skipping: [client1] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [ns01] => (item=None) 
changed: [client1] => (item=sudo named-checkconf -z)
changed: [ns02] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [ns02] => (item=None) 
changed: [ns01] => (item=sudo named-checkconf -z)
changed: [client2] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [ns02] => (item=sudo named-checkconf -z)
changed: [client2] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [client2] => (item=None) 
changed: [client2] => (item=sudo named-checkconf -z)

TASK [Store check to files] ****************************************************
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:47.740861', 'stdout': 'ns01.newdns.lab.\nns01.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 21:00:47.674543', 'stderr': '', 'delta': '0:00:00.066318', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.newdns.lab.', 'ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:47.682215', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 21:00:47.640303', 'stderr': '', 'delta': '0:00:00.041912', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:47.674385', 'stdout': 'ns01.dns.lab.\nns01.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 21:00:47.629744', 'stderr': '', 'delta': '0:00:00.044641', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.', 'ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:47.849750', 'stdout': 'ns01.dns.lab.\nns01.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 21:00:47.800540', 'stderr': '', 'delta': '0:00:00.049210', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.', 'ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:48.648631', 'stdout': 'ns02.dns.lab.\nns02.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 21:00:48.611221', 'stderr': '', 'delta': '0:00:00.037410', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.', 'ns02.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:48.629706', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 21:00:48.582877', 'stderr': '', 'delta': '0:00:00.046829', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:48.665589', 'stdout': 'ns02.newdns.lab.\nns02.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 21:00:48.623150', 'stderr': '', 'delta': '0:00:00.042439', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.newdns.lab.', 'ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:48.883202', 'stdout': 'ns02.dns.lab.\nns02.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 21:00:48.845859', 'stderr': '', 'delta': '0:00:00.037343', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.', 'ns02.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:49.523128', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 21:00:49.486027', 'stderr': '', 'delta': '0:00:00.037101', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:49.608536', 'stdout': 'web1.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 21:00:49.568506', 'stderr': '', 'delta': '0:00:00.040030', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:49.541888', 'stdout': 'www.newdns.lab.\nweb1.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 21:00:49.497476', 'stderr': '', 'delta': '0:00:00.044412', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.', 'web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:49.940530', 'stdout': 'web1.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 21:00:49.901185', 'stderr': '', 'delta': '0:00:00.039345', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:50.451363', 'stdout': 'web2.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 21:00:50.382633', 'stderr': '', 'delta': '0:00:00.068730', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:50.597600', 'stdout': 'www.newdns.lab.\nweb2.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 21:00:50.558851', 'stderr': '', 'delta': '0:00:00.038749', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.', 'web2.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:50.427520', 'stdout': 'www.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 21:00:50.385409', 'stderr': '', 'delta': '0:00:00.042111', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:50.950437', 'stdout': 'web2.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 21:00:50.914493', 'stderr': '', 'delta': '0:00:00.035944', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:51.588312', 'stdout': 'ns01.dns.lab.\nns01.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 21:00:51.535837', 'stderr': '', 'delta': '0:00:00.052475', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.', 'ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:51.376063', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 21:00:51.328109', 'stderr': '', 'delta': '0:00:00.047954', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:51.375668', 'stdout': 'ns01.dns.lab.\nns01.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 21:00:51.330996', 'stderr': '', 'delta': '0:00:00.044672', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.', 'ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:51.892718', 'stdout': 'ns01.dns.lab.\nns01.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 21:00:51.854884', 'stderr': '', 'delta': '0:00:00.037834', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.', 'ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:52.565022', 'stdout': 'ns02.dns.lab.\nns02.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 21:00:52.504614', 'stderr': '', 'delta': '0:00:00.060408', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.', 'ns02.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:52.311784', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 21:00:52.273102', 'stderr': '', 'delta': '0:00:00.038682', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:52.350909', 'stdout': 'ns02.dns.lab.\nns02.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 21:00:52.309117', 'stderr': '', 'delta': '0:00:00.041792', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.', 'ns02.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:52.895289', 'stdout': 'ns02.dns.lab.\nns02.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 21:00:52.842223', 'stderr': '', 'delta': '0:00:00.053066', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.', 'ns02.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:53.432391', 'stdout': 'www.newdns.lab.\nweb1.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 21:00:53.395515', 'stderr': '', 'delta': '0:00:00.036876', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.', 'web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:53.220018', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 21:00:53.180619', 'stderr': '', 'delta': '0:00:00.039399', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:53.326604', 'stdout': 'web1.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 21:00:53.279540', 'stderr': '', 'delta': '0:00:00.047064', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:53.855783', 'stdout': 'www.newdns.lab.\nweb1.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 21:00:53.810287', 'stderr': '', 'delta': '0:00:00.045496', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.', 'web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:54.310061', 'stdout': 'www.newdns.lab.\nweb2.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 21:00:54.274793', 'stderr': '', 'delta': '0:00:00.035268', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.', 'web2.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:54.151176', 'stdout': 'web2.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 21:00:54.108138', 'stderr': '', 'delta': '0:00:00.043038', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:54.295241', 'stdout': 'www.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 21:00:54.254310', 'stderr': '', 'delta': '0:00:00.040931', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:54.857521', 'stdout': 'web2.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 21:00:54.794926', 'stderr': '', 'delta': '0:00:00.062595', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:55.299269', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:55.242867', 'stderr': '', 'delta': '0:00:00.056402', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:55.251664', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:55.205082', 'stderr': '', 'delta': '0:00:00.046582', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:55.142099', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:55.079210', 'stderr': '', 'delta': '0:00:00.062889', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:55.861171', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:55.820921', 'stderr': '', 'delta': '0:00:00.040250', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:56.279479', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:56.232167', 'stderr': '', 'delta': '0:00:00.047312', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:56.298320', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:56.247409', 'stderr': '', 'delta': '0:00:00.050911', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:56.201051', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:56.148295', 'stderr': '', 'delta': '0:00:00.052756', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:56.778657', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:56.741030', 'stderr': '', 'delta': '0:00:00.037627', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:57.292490', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:57.255954', 'stderr': '', 'delta': '0:00:00.036536', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:57.257892', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:57.211448', 'stderr': '', 'delta': '0:00:00.046444', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:57.126383', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:57.072882', 'stderr': '', 'delta': '0:00:00.053501', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:57.685152', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:57.635358', 'stderr': '', 'delta': '0:00:00.049794', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:58.269546', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:58.235176', 'stderr': '', 'delta': '0:00:00.034370', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:58.162706', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:58.094460', 'stderr': '', 'delta': '0:00:00.068246', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:58.073650', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:58.029969', 'stderr': '', 'delta': '0:00:00.043681', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:58.652108', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 21:00:58.610785', 'stderr': '', 'delta': '0:00:00.041323', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:59.289055', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:00:59.225684', 'stderr': '', 'delta': '0:00:00.063371', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:59.132592', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:00:59.088065', 'stderr': '', 'delta': '0:00:00.044527', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:59.103911', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:00:58.925285', 'stderr': '', 'delta': '0:00:00.178626', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:00:59.517094', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:00:59.465656', 'stderr': '', 'delta': '0:00:00.051438', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:00.299308', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:00.261646', 'stderr': '', 'delta': '0:00:00.037662', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:00.022707', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:00:59.987665', 'stderr': '', 'delta': '0:00:00.035042', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:00.260371', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:00.006162', 'stderr': '', 'delta': '0:00:00.254209', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:00.389473', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:00.352641', 'stderr': '', 'delta': '0:00:00.036832', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:01.199863', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:01.158109', 'stderr': '', 'delta': '0:00:00.041754', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:00.876015', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:00.836332', 'stderr': '', 'delta': '0:00:00.039683', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:01.757824', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:01.269705', 'stderr': '', 'delta': '0:00:00.488119', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:01.317138', 'stdout': '192.168.50.16\n192.168.50.15', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:01.262001', 'stderr': '', 'delta': '0:00:00.055137', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16', '192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:02.545350', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:02.483041', 'stderr': '', 'delta': '0:00:00.062309', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:01.908060', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:01.800611', 'stderr': '', 'delta': '0:00:00.107449', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:03.012564', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:02.970101', 'stderr': '', 'delta': '0:00:00.042463', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:02.765793', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:02.691293', 'stderr': '', 'delta': '0:00:00.074500', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:03.613130', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:03.545813', 'stderr': '', 'delta': '0:00:00.067317', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:03.207507', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:03.173572', 'stderr': '', 'delta': '0:00:00.033935', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:03.935525', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:03.898046', 'stderr': '', 'delta': '0:00:00.037479', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:03.768818', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:03.720445', 'stderr': '', 'delta': '0:00:00.048373', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:04.554447', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:04.507097', 'stderr': '', 'delta': '0:00:00.047350', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:04.186696', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:04.145251', 'stderr': '', 'delta': '0:00:00.041445', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:04.880615', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:04.830823', 'stderr': '', 'delta': '0:00:00.049792', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:04.860425', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:04.812659', 'stderr': '', 'delta': '0:00:00.047766', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:05.496626', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:05.457473', 'stderr': '', 'delta': '0:00:00.039153', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:05.070873', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:05.029135', 'stderr': '', 'delta': '0:00:00.041738', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:05.819005', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:05.772879', 'stderr': '', 'delta': '0:00:00.046126', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:05.839151', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 21:01:05.774861', 'stderr': '', 'delta': '0:00:00.064290', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:06.405024', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:06.356382', 'stderr': '', 'delta': '0:00:00.048642', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:05.980250', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:05.931844', 'stderr': '', 'delta': '0:00:00.048406', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:07.055761', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:06.808181', 'stderr': '', 'delta': '0:00:00.247580', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:06.810432', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:06.770270', 'stderr': '', 'delta': '0:00:00.040162', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:07.192078', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:07.161825', 'stderr': '', 'delta': '0:00:00.030253', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:06.907735', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:06.876501', 'stderr': '', 'delta': '0:00:00.031234', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:08.941437', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:07.910302', 'stderr': '', 'delta': '0:00:01.031135', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:07.868351', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:07.803619', 'stderr': '', 'delta': '0:00:00.064732', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:08.163255', 'stdout': '192.168.50.16\n192.168.50.15', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:08.128836', 'stderr': '', 'delta': '0:00:00.034419', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16', '192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:07.850484', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:07.796440', 'stderr': '', 'delta': '0:00:00.054044', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:09.737774', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:09.546014', 'stderr': '', 'delta': '0:00:00.191760', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:08.736987', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 21:01:08.691447', 'stderr': '', 'delta': '0:00:00.045540', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:08.936377', 'stdout': 'zone dns.lab/IN: loaded serial 2711201407\nzone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407\nzone newdns.lab/IN: loaded serial 2711201407\nzone dns.lab/IN: loaded serial 2711201407\nzone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407\nzone dns.lab/IN: loaded serial 2711201407\nzone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407\nzone newdns.lab/IN: loaded serial 2711201407', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 21:01:08.855363', 'stderr': '', 'delta': '0:00:00.081014', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone dns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407', 'zone newdns.lab/IN: loaded serial 2711201407', 'zone dns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407', 'zone dns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407', 'zone newdns.lab/IN: loaded serial 2711201407'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:08.733140', 'stdout': 'zone localhost.localdomain/IN: loaded serial 0\nzone localhost/IN: loaded serial 0\nzone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0\nzone 1.0.0.127.in-addr.arpa/IN: loaded serial 0\nzone 0.in-addr.arpa/IN: loaded serial 0', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 21:01:08.648820', 'stderr': '', 'delta': '0:00:00.084320', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone localhost.localdomain/IN: loaded serial 0', 'zone localhost/IN: loaded serial 0', 'zone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0', 'zone 1.0.0.127.in-addr.arpa/IN: loaded serial 0', 'zone 0.in-addr.arpa/IN: loaded serial 0'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:10.364896', 'stdout': 'zone localhost.localdomain/IN: loaded serial 0\nzone localhost/IN: loaded serial 0\nzone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0\nzone 1.0.0.127.in-addr.arpa/IN: loaded serial 0\nzone 0.in-addr.arpa/IN: loaded serial 0', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 21:01:10.296071', 'stderr': '', 'delta': '0:00:00.068825', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone localhost.localdomain/IN: loaded serial 0', 'zone localhost/IN: loaded serial 0', 'zone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0', 'zone 1.0.0.127.in-addr.arpa/IN: loaded serial 0', 'zone 0.in-addr.arpa/IN: loaded serial 0'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 21:01:09.476701', 'stdout': '', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 21:01:09.392303', 'stderr': '', 'delta': '0:00:00.084398', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})

PLAY RECAP *********************************************************************
client1                    : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
client2                    : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns01                       : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns02                       : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


```

</details>

### Итог для client1:

```text
клиент1 - видит обе зоны, но в зоне dns.lab только web1
```
то есть как я понял
```text
клиент1 - видит ВСЁ в зоне newdns.lab и в зоне dns.lab НЕ ВИДИТ web2 (видит web1 и штатнын ns01 и ns02)
```


<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.newdns.lab.
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
www.newdns.lab.
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
ns02.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text
www.newdns.lab.
```

</details>

### Итог для client2:

```text
клиент2 - видит только dns.lab
```
то есть как я понял
```text
клиент1 - видит ВСЁ-ВСЁ в зоне dns.lab, а зону newdns.lab и ВСЁ в ней ВООБЩЕ НЕ ВИДИТ
```


<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
```

</details>

### Итог для ns01:

ns01 обладает АБСОЛЮТНОЙ видимостью.


<details><summary>см. лог исполнения `sudo named-checkconf -z`</summary>

```text
zone dns.lab/IN: loaded serial 2711201407
zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407
zone newdns.lab/IN: loaded serial 2711201407
zone dns.lab/IN: loaded serial 2711201407
zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407
zone dns.lab/IN: loaded serial 2711201407
zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407
zone newdns.lab/IN: loaded serial 2711201407
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.16
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.newdns.lab.
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
ns02.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
www.newdns.lab.
web2.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
ns02.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
www.newdns.lab.
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text
www.newdns.lab.
web2.dns.lab.
```

</details>

### Итог для ns02:

ns02 обладает АБСОЛЮТНОЙ видимостью.


<details><summary>см. лог исполнения `sudo named-checkconf -z`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.16
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
ns02.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
ns02.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
www.newdns.lab.
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
www.newdns.lab.
```

</details>

## О резолвинге

Приходится смешивать файлы резолвинга (IP-домены) в один файл, так как ищет первое соответствие?

## О трансфере зон

Очень важно задействовать для трансфера зон различных представлений\видов (view) РАЗНЫЕ ключи, а то результат будет предсказуемо неверный.

* http://www.grok.org.uk/docs/tsig.html

```shell
dnssec-keygen -a HMAC-MD5 -n HOST -b 128 -r /dev/urandom client1.key
  Kclient1.key.+157+63320
at ./Kclient1.key.+157+63320.key 
  client1.key. IN KEY 512 3 157 LoValz1cnhrsFNFcp/UnwQ==

    key "client1.key" { algorithm hmac-md5; secret "LoValz1cnhrsFNFcp/UnwQ=="; }; <--- Это в конфиг
    
    
dnssec-keygen -a HMAC-MD5 -n HOST -b 128 -r /dev/urandom client2.key
  Kclient2.key.+157+22995
cat ./Kclient2.key.+157+22995.key 
  client2.key. IN KEY 512 3 157 hRayFT5xMeJ1oy7NXZyqqQ==

    key "client2.key" { algorithm hmac-md5; secret "hRayFT5xMeJ1oy7NXZyqqQ=="; }; <--- Это в конфиг

```

## В копилку минусов Network Manager 

Чтоб при перезапуске сети Network Manager не менял /etc/resolv.conf по его документации в секции main нужно сделать
```text
[main]
dns=none
```
Но это НЕ работает, а работает
```shell
chattr +i /etc/resolv.conf
```

## На "потом"

А чем `nslookup` лучше/хуже `dig`:

```shell
nslookup www.dns.lab 192.168.50.10

  Server:		192.168.50.10
  Address:	192.168.50.10#53
  
  ** server can't find www.dns.lab: NXDOMAIN

nslookup www.newdns.lab 192.168.50.10
  
  Server:		192.168.50.10
  Address:	192.168.50.10#53
  
  Name:	www.newdns.lab
  Address: 192.168.50.16
  Name:	www.newdns.lab
  Address: 192.168.50.15

```

## Для развития

* Задача про split dns - это точно задача про split dns. Я как понял, главное  предназначение Split, это выдача различных действующих ip адресов одной и той же зоны для разных сегментов сети (у разной адресации клиентов будут разные ip доменов). А тут как бы просто ограничение доступа по доменам?
* Неужели не существует фреймворка/утилиты, которая бы по many-to-many структуре и шаблончикам файлов на той же jinja сгенерировала (со всеми фишками наследования и вложения) бы конфиги для BIND сервера DNS?
