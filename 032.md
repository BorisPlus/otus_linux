# DNS

* взять стенд https://github.com/erlong15/vagrant-bind
* добавить еще один сервер client2
* завести в зоне dns.lab имена
  * web1 - смотрит на клиент1
  * web2  смотрит на клиент2
* завести еще одну зону newdns.lab
  * завести в ней запись
  * www - смотрит на обоих клиентов
* настроить split-dns
  * клиент1 - видит обе зоны, но в зоне dns.lab только web1
  * клиент2 видит только dns.lab
* настроить все без выключения selinux



## Исполнение

```shell
cd 032/vm/
cd ../vm/
vagrant destroy -f && vagrant up 
python3 v2a.py -o ../ansible/inventories/hosts # Это уже как кредо
cd ../ansible/
ansible-playbook playbooks/deploy.yml > ../files/deploy.yml.txt
```


<details><summary>см. лог `playbooks/deploy.yml`</summary>

```text

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************

```

</details>

## Демонстрация работоспособности

Напоминание:
* ns01 - "192.168.50.10"
* ns02 - "192.168.50.11"
* client1 (он же web1, www) - "192.168.50.15"
* client2 (он же web2, www) - "192.168.50.12"

На каждом хосте запущен [список команд](./032/ansible/playbooks/check.yml) для проверки доступности зон и хостов.

<details><summary>см. список команд</summary>

```properties
---
- hosts: all
  tasks:
  - name: dns access records checker
    shell: "{{ item }}"
    when: not("{{ item }}" == '')
    loop:
      - #
      - dig @192.168.50.10 +short -x 192.168.50.10
      - dig @192.168.50.10 +short -x 192.168.50.11
      - dig @192.168.50.10 +short -x 192.168.50.15
      - dig @192.168.50.10 +short -x 192.168.50.16
      - #
      - dig @192.168.50.11 +short -x 192.168.50.10
      - dig @192.168.50.11 +short -x 192.168.50.11
      - dig @192.168.50.11 +short -x 192.168.50.15
      - dig @192.168.50.11 +short -x 192.168.50.16
      - #
      - dig @192.168.50.10 +short ns01.dns.lab
      - dig @192.168.50.10 +short ns02.dns.lab
      - dig @192.168.50.10 +short web1.dns.lab
      - dig @192.168.50.10 +short web2.dns.lab
      - dig @192.168.50.10 +short ns01.newdns.lab
      - dig @192.168.50.10 +short ns02.newdns.lab
      - dig @192.168.50.10 +short www.newdns.lab
      - #
      - dig @192.168.50.11 +short ns01.dns.lab
      - dig @192.168.50.11 +short ns02.dns.lab
      - dig @192.168.50.11 +short web1.dns.lab
      - dig @192.168.50.11 +short web2.dns.lab
      - dig @192.168.50.11 +short ns01.newdns.lab
      - dig @192.168.50.11 +short ns02.newdns.lab
      - dig @192.168.50.11 +short www.newdns.lab
      - #
      - sudo named-checkconf -z
    register: check_content

  - name: Store check to files
    local_action:
      module: copy
      content: "{{ item['stdout'] }}"
      dest: "../../files/tests_reports/{{ inventory_hostname }}-{{ item['cmd'] | replace('/', '_') | replace(' ', '-') }}.txt"
    loop: "{{ check_content['results'] }}"
    when: item['stdout'] is defined
```

</details>

```shell
ansible-playbook playbooks/check.yml > ../files/check.yml.txt
```


<details><summary>см. лог исполнения `playbooks/check.yml`</summary>

```text

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [client1]
ok: [ns02]
ok: [client2]
ok: [ns01]

TASK [dns access records checker] **********************************************
skipping: [ns01] => (item=None) 
skipping: [ns02] => (item=None) 
skipping: [client1] => (item=None) 
skipping: [client2] => (item=None) 
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [client2] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [ns02] => (item=None) 
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [client1] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [ns01] => (item=None) 
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [client2] => (item=None) 
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [client1] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [ns01] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [ns02] => (item=None) 
changed: [client2] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [client1] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [ns02] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [ns01] => (item=None) 
changed: [client2] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [client2] => (item=None) 
changed: [client1] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [client1] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [ns02] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [ns01] => (item=None) 
changed: [client2] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [client1] => (item=sudo named-checkconf -z)
changed: [ns02] => (item=sudo named-checkconf -z)
changed: [ns01] => (item=sudo named-checkconf -z)
changed: [client2] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [client2] => (item=None) 
changed: [client2] => (item=sudo named-checkconf -z)

TASK [Store check to files] ****************************************************
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:39.377662', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:27:39.307435', 'stderr': '', 'delta': '0:00:00.070227', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:39.367187', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:27:39.301984', 'stderr': '', 'delta': '0:00:00.065203', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:39.496616', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:27:39.432058', 'stderr': '', 'delta': '0:00:00.064558', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:39.488777', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:27:39.433989', 'stderr': '', 'delta': '0:00:00.054788', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:40.367878', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:27:40.325488', 'stderr': '', 'delta': '0:00:00.042390', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:40.516461', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:27:40.475552', 'stderr': '', 'delta': '0:00:00.040909', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:40.300861', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:27:40.255353', 'stderr': '', 'delta': '0:00:00.045508', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:40.423305', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:27:40.386692', 'stderr': '', 'delta': '0:00:00.036613', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:41.333280', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:27:41.292591', 'stderr': '', 'delta': '0:00:00.040689', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:41.419847', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:27:41.385030', 'stderr': '', 'delta': '0:00:00.034817', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:41.403323', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:27:41.339666', 'stderr': '', 'delta': '0:00:00.063657', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:41.334379', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:27:41.297022', 'stderr': '', 'delta': '0:00:00.037357', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:42.269336', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:27:42.228330', 'stderr': '', 'delta': '0:00:00.041006', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:42.471216', 'stdout': 'web2.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:27:42.427062', 'stderr': '', 'delta': '0:00:00.044154', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:42.368430', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:27:42.321047', 'stderr': '', 'delta': '0:00:00.047383', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:42.306869', 'stdout': 'web2.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:27:42.269174', 'stderr': '', 'delta': '0:00:00.037695', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:43.205093', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:27:43.147774', 'stderr': '', 'delta': '0:00:00.057319', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:43.481876', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:27:43.438077', 'stderr': '', 'delta': '0:00:00.043799', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:43.316044', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:27:43.266526', 'stderr': '', 'delta': '0:00:00.049518', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:43.363724', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:27:43.324615', 'stderr': '', 'delta': '0:00:00.039109', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:44.191681', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:27:44.146450', 'stderr': '', 'delta': '0:00:00.045231', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:44.470488', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:27:44.419833', 'stderr': '', 'delta': '0:00:00.050655', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:44.316455', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:27:44.262143', 'stderr': '', 'delta': '0:00:00.054312', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:44.313958', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:27:44.278197', 'stderr': '', 'delta': '0:00:00.035761', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:45.184607', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:27:45.136789', 'stderr': '', 'delta': '0:00:00.047818', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:45.377374', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:27:45.336057', 'stderr': '', 'delta': '0:00:00.041317', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:45.300690', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:27:45.264990', 'stderr': '', 'delta': '0:00:00.035700', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:45.242854', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:27:45.205894', 'stderr': '', 'delta': '0:00:00.036960', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:46.219048', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:27:46.162798', 'stderr': '', 'delta': '0:00:00.056250', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:46.365890', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:27:46.315411', 'stderr': '', 'delta': '0:00:00.050479', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:46.257953', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:27:46.214555', 'stderr': '', 'delta': '0:00:00.043398', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:46.387340', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:27:46.339398', 'stderr': '', 'delta': '0:00:00.047942', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:47.189936', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:47.143177', 'stderr': '', 'delta': '0:00:00.046759', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:47.263158', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:47.219171', 'stderr': '', 'delta': '0:00:00.043987', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:47.221372', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:47.174860', 'stderr': '', 'delta': '0:00:00.046512', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:47.414933', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:47.377749', 'stderr': '', 'delta': '0:00:00.037184', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:48.192654', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:48.140913', 'stderr': '', 'delta': '0:00:00.051741', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:48.287332', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:48.248213', 'stderr': '', 'delta': '0:00:00.039119', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:48.072347', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:48.029606', 'stderr': '', 'delta': '0:00:00.042741', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:48.479460', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:48.418488', 'stderr': '', 'delta': '0:00:00.060972', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:49.130424', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:49.094554', 'stderr': '', 'delta': '0:00:00.035870', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:49.200240', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:49.160155', 'stderr': '', 'delta': '0:00:00.040085', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:49.199696', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:49.129090', 'stderr': '', 'delta': '0:00:00.070606', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:49.342426', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:49.305457', 'stderr': '', 'delta': '0:00:00.036969', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:50.102120', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:50.058851', 'stderr': '', 'delta': '0:00:00.043269', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:50.205338', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:50.169326', 'stderr': '', 'delta': '0:00:00.036012', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:50.248825', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:50.207235', 'stderr': '', 'delta': '0:00:00.041590', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:51.372249', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:51.125089', 'stderr': '', 'delta': '0:00:00.247160', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:50.257995', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:50.220497', 'stderr': '', 'delta': '0:00:00.037498', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:51.151860', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:51.104839', 'stderr': '', 'delta': '0:00:00.047021', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:51.151081', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:51.117259', 'stderr': '', 'delta': '0:00:00.033822', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:52.543685', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:52.300475', 'stderr': '', 'delta': '0:00:00.243210', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:51.138577', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:51.086993', 'stderr': '', 'delta': '0:00:00.051584', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:52.045813', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:51.984204', 'stderr': '', 'delta': '0:00:00.061609', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:52.203610', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:52.166825', 'stderr': '', 'delta': '0:00:00.036785', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:53.653947', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:53.494918', 'stderr': '', 'delta': '0:00:00.159029', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:52.041664', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:51.984498', 'stderr': '', 'delta': '0:00:00.057166', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:52.954971', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:52.909899', 'stderr': '', 'delta': '0:00:00.045072', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:53.122548', 'stdout': '192.168.50.16\n192.168.50.15', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:53.086081', 'stderr': '', 'delta': '0:00:00.036467', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16', '192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:54.673923', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:54.611791', 'stderr': '', 'delta': '0:00:00.062132', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:52.978787', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:52.939072', 'stderr': '', 'delta': '0:00:00.039715', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:53.850229', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:53.802985', 'stderr': '', 'delta': '0:00:00.047244', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:55.757324', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:55.697500', 'stderr': '', 'delta': '0:00:00.059824', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:54.100237', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:54.040635', 'stderr': '', 'delta': '0:00:00.059602', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:53.845761', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:53.808655', 'stderr': '', 'delta': '0:00:00.037106', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:54.714536', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:54.664543', 'stderr': '', 'delta': '0:00:00.049993', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:55.042342', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:54.994503', 'stderr': '', 'delta': '0:00:00.047839', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:56.741391', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:56.696387', 'stderr': '', 'delta': '0:00:00.045004', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:54.814402', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:54.776829', 'stderr': '', 'delta': '0:00:00.037573', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:55.705870', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:55.655869', 'stderr': '', 'delta': '0:00:00.050001', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:56.007697', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:55.964849', 'stderr': '', 'delta': '0:00:00.042848', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:57.634834', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:57.595540', 'stderr': '', 'delta': '0:00:00.039294', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:55.735393', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:55.696846', 'stderr': '', 'delta': '0:00:00.038547', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:56.716476', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:56.674312', 'stderr': '', 'delta': '0:00:00.042164', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:56.990231', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:56.927910', 'stderr': '', 'delta': '0:00:00.062321', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:58.781526', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:58.467843', 'stderr': '', 'delta': '0:00:00.313683', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:56.757962', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:27:56.717241', 'stderr': '', 'delta': '0:00:00.040721', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:57.650108', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:57.604430', 'stderr': '', 'delta': '0:00:00.045678', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:57.923463', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:57.887983', 'stderr': '', 'delta': '0:00:00.035480', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:28:00.007717', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:59.683013', 'stderr': '', 'delta': '0:00:00.324704', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:57.721406', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:57.685393', 'stderr': '', 'delta': '0:00:00.036013', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:58.675326', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:58.634368', 'stderr': '', 'delta': '0:00:00.040958', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:58.881698', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:58.821019', 'stderr': '', 'delta': '0:00:00.060679', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:28:01.074564', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:28:00.840160', 'stderr': '', 'delta': '0:00:00.234404', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:58.719888', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:58.689555', 'stderr': '', 'delta': '0:00:00.030333', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:59.543711', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:59.500479', 'stderr': '', 'delta': '0:00:00.043232', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:59.872789', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:59.838721', 'stderr': '', 'delta': '0:00:00.034068', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:28:01.692062', 'stdout': 'zone localhost.localdomain/IN: loaded serial 0\nzone localhost/IN: loaded serial 0\nzone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0\nzone 1.0.0.127.in-addr.arpa/IN: loaded serial 0\nzone 0.in-addr.arpa/IN: loaded serial 0', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 17:28:01.631591', 'stderr': '', 'delta': '0:00:00.060471', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone localhost.localdomain/IN: loaded serial 0', 'zone localhost/IN: loaded serial 0', 'zone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0', 'zone 1.0.0.127.in-addr.arpa/IN: loaded serial 0', 'zone 0.in-addr.arpa/IN: loaded serial 0'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:27:59.616117', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:27:59.579440', 'stderr': '', 'delta': '0:00:00.036677', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:28:00.477962', 'stdout': 'zone localhost.localdomain/IN: loaded serial 0\nzone localhost/IN: loaded serial 0\nzone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0\nzone 1.0.0.127.in-addr.arpa/IN: loaded serial 0\nzone 0.in-addr.arpa/IN: loaded serial 0', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 17:28:00.361654', 'stderr': '', 'delta': '0:00:00.116308', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone localhost.localdomain/IN: loaded serial 0', 'zone localhost/IN: loaded serial 0', 'zone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0', 'zone 1.0.0.127.in-addr.arpa/IN: loaded serial 0', 'zone 0.in-addr.arpa/IN: loaded serial 0'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:28:00.877968', 'stdout': 'zone dns.lab/IN: loaded serial 2711201407\nzone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407\nzone newdns.lab/IN: loaded serial 2711201407\nzone 50.168.192.newdns.arpa/IN: loaded serial 2711201407\nzone dns.lab/IN: loaded serial 2711201407\nzone dns.lab/IN: loaded serial 2711201407\nzone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407\nzone newdns.lab/IN: loaded serial 2711201407\nzone 50.168.192.newdns.arpa/IN: loaded serial 2711201407', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 17:28:00.779862', 'stderr': '', 'delta': '0:00:00.098106', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone dns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407', 'zone newdns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.newdns.arpa/IN: loaded serial 2711201407', 'zone dns.lab/IN: loaded serial 2711201407', 'zone dns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407', 'zone newdns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.newdns.arpa/IN: loaded serial 2711201407'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:28:00.583717', 'stdout': '', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 17:28:00.447279', 'stderr': '', 'delta': '0:00:00.136438', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})

PLAY RECAP *********************************************************************
client1                    : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
client2                    : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns01                       : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns02                       : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


```

</details>

### Итог для client1:

```text
клиент1 - видит обе зоны, но в зоне dns.lab только web1
```
то есть как я понял
```text
клиент1 - видит ВСЁ в зоне newdns.lab и в зоне dns.lab ТОЛЬКО web1 (однако с отключением видимости ns01 и ns02 не вышло)
```


<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

### Итог для client2:

```text
клиент2 - видит только dns.lab
```
то есть как я понял
```text
клиент1 - видит ВСЁ-ВСЁ в зоне dns.lab, а зону newdns.lab и ВСЁ в ней ВООБЩЕ НЕ ВИДИТ
```


<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text

```

</details>

### Итог для ns01:

АБСОЛЮТНАЯ видимость


<details><summary>см. лог исполнения `sudo named-checkconf -z`</summary>

```text
zone dns.lab/IN: loaded serial 2711201407
zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407
zone newdns.lab/IN: loaded serial 2711201407
zone 50.168.192.newdns.arpa/IN: loaded serial 2711201407
zone dns.lab/IN: loaded serial 2711201407
zone dns.lab/IN: loaded serial 2711201407
zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407
zone newdns.lab/IN: loaded serial 2711201407
zone 50.168.192.newdns.arpa/IN: loaded serial 2711201407
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.16
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

### Итог для ns02:

АБСОЛЮТНАЯ видимость


<details><summary>см. лог исполнения `sudo named-checkconf -z`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

## На потом

А чем `nslookup` лучше/хуже `dig`:

```shell
nslookup www.dns.lab 192.168.50.10

  Server:		192.168.50.10
  Address:	192.168.50.10#53
  
  ** server can't find www.dns.lab: NXDOMAIN

nslookup www.newdns.lab 192.168.50.10
  
  Server:		192.168.50.10
  Address:	192.168.50.10#53
  
  Name:	www.newdns.lab
  Address: 192.168.50.16
  Name:	www.newdns.lab
  Address: 192.168.50.15

```

## Для развития

* Задача про split dns - это точно задача про split dns. Я как понял, главное  предназначение Split, это выдача различных действующих ip адресов одной и той же зоны для разных сегментов сети (у разной адресации клиентов будут разные ip доменов). А тут как бы просто ограничение доступа по доменам?
* Неужели не существует фреймворка/утилиты, которая бы по many-to-many структуре и шаблончикам файлов на той же jinja сгенерировала (со всеми фишками наследования и вложения) бы конфиги для BIND сервера DNS?