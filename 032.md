# DNS

* взять стенд https://github.com/erlong15/vagrant-bind
* добавить еще один сервер client2
* завести в зоне dns.lab имена
  * web1 - смотрит на клиент1
  * web2  смотрит на клиент2
* завести еще одну зону newdns.lab
  * завести в ней запись
  * www - смотрит на обоих клиентов
* настроить split-dns
  * клиент1 - видит обе зоны, но в зоне dns.lab только web1
  * клиент2 видит только dns.lab
* настроить все без выключения selinux



## Исполнение

```shell
cd 032/vm/
cd ../vm/
vagrant destroy -f && vagrant up 
python3 v2a.py -o ../ansible/inventories/hosts # Это уже как кредо
cd ../ansible/
ansible-playbook playbooks/deploy.yml > ../files/deploy.yml.txt
```


<details><summary>см. лог `playbooks/deploy.yml`</summary>

```text

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [client2]
ok: [ns02]
ok: [client1]
ok: [ns01]

TASK [rollback to initial os state | rm -f /etc/resolv.conf] *******************
changed: [client1]
changed: [client2]
changed: [ns02]
changed: [ns01]

TASK [remove packages] *********************************************************
changed: [client2] => (item=bind)
changed: [client1] => (item=bind)
changed: [client2] => (item=bind-utils)
changed: [client1] => (item=bind-utils)
changed: [ns02] => (item=bind)
changed: [ns01] => (item=bind)
changed: [client2] => (item=ntp)
changed: [ns02] => (item=bind-utils)
changed: [client1] => (item=ntp)
changed: [ns01] => (item=bind-utils)
changed: [ns02] => (item=ntp)
changed: [ns01] => (item=ntp)

TASK [install packages] ********************************************************
changed: [ns02] => (item=bind)
changed: [client1] => (item=bind)
changed: [ns01] => (item=bind)
changed: [ns02] => (item=bind-utils)
changed: [client2] => (item=bind)
changed: [client1] => (item=bind-utils)
changed: [ns01] => (item=bind-utils)
changed: [ns02] => (item=ntp)
changed: [client1] => (item=ntp)
changed: [client2] => (item=bind-utils)
changed: [ns01] => (item=ntp)
changed: [client2] => (item=ntp)

TASK [copy transferkey to all servers and the client] **************************
ok: [client1]
ok: [ns01]
ok: [client2]
ok: [ns02]

TASK [/etc/NetworkManager/NetworkManager.conf | content] ***********************
changed: [ns01]
changed: [ns02]
changed: [client2]
changed: [client1]

TASK [/etc/NetworkManager/NetworkManager.conf | dns=none | if did not set] *****
changed: [client1]
changed: [ns01]
changed: [client2]
changed: [ns02]

TASK [/etc/NetworkManager/NetworkManager.conf | dns=none] **********************
ok: [client2]
ok: [ns02]
ok: [ns01]
ok: [client1]

TASK [ensure network is running and enabled] ***********************************
changed: [client1]
changed: [ns01]
changed: [client2]
changed: [ns02]

PLAY [ns01] ********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [ns01]

TASK [rollback to initial os state | rm -f /etc/named] *************************
changed: [ns01]

TASK [copy named.conf] *********************************************************
changed: [ns01]

TASK [copy zones] **************************************************************
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.client2)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.rev.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.rev)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.rev.client2)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab.rev.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab.rev)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab)

TASK [copy resolv.conf to the servers] *****************************************
changed: [ns01]

TASK [set /etc/named permissions] **********************************************
changed: [ns01]

TASK [ensure named is running and enabled] *************************************
changed: [ns01]

PLAY [ns02] ********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [ns02]

TASK [rollback to initial os state | rm -f /etc/named] *************************
changed: [ns02]

TASK [copy named.conf] *********************************************************
changed: [ns02]

TASK [copy resolv.conf to the servers] *****************************************
changed: [ns02]

TASK [set /etc/named permissions] **********************************************
changed: [ns02]

TASK [ensure named is running and enabled] *************************************
changed: [ns02]

PLAY [client1,client2] *********************************************************

TASK [Gathering Facts] *********************************************************
ok: [client1]
ok: [client2]

TASK [copy resolv.conf to the client] ******************************************
changed: [client1]
changed: [client2]

TASK [copy rndc conf file] *****************************************************
ok: [client2]
ok: [client1]

TASK [copy motd to the client] *************************************************
ok: [client2]
ok: [client1]

PLAY RECAP *********************************************************************
client1                    : ok=13   changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
client2                    : ok=13   changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns01                       : ok=16   changed=12   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns02                       : ok=15   changed=11   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


```

</details>

## Демонстрация работоспособности

Напоминание:
* ns01 - "192.168.50.10"
* ns02 - "192.168.50.11"
* client1 (он же web1, www) - "192.168.50.15"
* client2 (он же web2, www) - "192.168.50.12"

На каждом хосте запущен [список команд](./032/ansible/playbooks/check.yml) для проверки доступности зон и хостов.

<details><summary>см. список команд</summary>

```properties
---
- hosts: all
  tasks:
  - name: dns access records checker
    shell: "{{ item }}"
    when: not("{{ item }}" == '')
    loop:
      - #
      - dig @192.168.50.10 +short -x 192.168.50.10
      - dig @192.168.50.10 +short -x 192.168.50.11
      - dig @192.168.50.10 +short -x 192.168.50.15
      - dig @192.168.50.10 +short -x 192.168.50.16
      - #
      - dig @192.168.50.11 +short -x 192.168.50.10
      - dig @192.168.50.11 +short -x 192.168.50.11
      - dig @192.168.50.11 +short -x 192.168.50.15
      - dig @192.168.50.11 +short -x 192.168.50.16
      - #
      - dig @192.168.50.10 +short ns01.dns.lab
      - dig @192.168.50.10 +short ns02.dns.lab
      - dig @192.168.50.10 +short web1.dns.lab
      - dig @192.168.50.10 +short web2.dns.lab
      - dig @192.168.50.10 +short ns01.newdns.lab
      - dig @192.168.50.10 +short ns02.newdns.lab
      - dig @192.168.50.10 +short www.newdns.lab
      - #
      - dig @192.168.50.11 +short ns01.dns.lab
      - dig @192.168.50.11 +short ns02.dns.lab
      - dig @192.168.50.11 +short web1.dns.lab
      - dig @192.168.50.11 +short web2.dns.lab
      - dig @192.168.50.11 +short ns01.newdns.lab
      - dig @192.168.50.11 +short ns02.newdns.lab
      - dig @192.168.50.11 +short www.newdns.lab
      - #
      - sudo named-checkconf -z
    register: check_content

  - name: Store check to files
    local_action:
      module: copy
      content: "{{ item['stdout'] }}"
      dest: "../../files/tests_reports/{{ inventory_hostname }}-{{ item['cmd'] | replace('/', '_') | replace(' ', '-') }}.txt"
    loop: "{{ check_content['results'] }}"
    when: item['stdout'] is defined
```

</details>

```shell
ansible-playbook playbooks/check.yml > ../files/check.yml.txt
```


<details><summary>см. лог исполнения `playbooks/check.yml`</summary>

```text

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [client2]
ok: [client1]
ok: [ns02]
ok: [ns01]

TASK [dns access records checker] **********************************************
skipping: [ns01] => (item=None) 
skipping: [ns02] => (item=None) 
skipping: [client1] => (item=None) 
skipping: [client2] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [client2] => (item=None) 
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [client1] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [ns02] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [ns01] => (item=None) 
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [client1] => (item=None) 
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [client2] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [ns02] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [ns01] => (item=None) 
changed: [client1] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [client1] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [ns02] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [ns01] => (item=None) 
changed: [client2] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [client2] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [client1] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [ns02] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [ns01] => (item=None) 
changed: [client1] => (item=sudo named-checkconf -z)
changed: [client2] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [ns02] => (item=sudo named-checkconf -z)
changed: [ns01] => (item=sudo named-checkconf -z)
changed: [client2] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [client2] => (item=None) 
changed: [client2] => (item=sudo named-checkconf -z)

TASK [Store check to files] ****************************************************
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:01.902548', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:52:01.794393', 'stderr': '', 'delta': '0:00:00.108155', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:01.856570', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:52:01.740013', 'stderr': '', 'delta': '0:00:00.116557', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:01.764724', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:52:01.680651', 'stderr': '', 'delta': '0:00:00.084073', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:01.954778', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:52:01.869376', 'stderr': '', 'delta': '0:00:00.085402', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:02.817109', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:52:02.769765', 'stderr': '', 'delta': '0:00:00.047344', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:02.782546', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:52:02.730545', 'stderr': '', 'delta': '0:00:00.052001', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:02.792942', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:52:02.744502', 'stderr': '', 'delta': '0:00:00.048440', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:03.036541', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:52:03.002328', 'stderr': '', 'delta': '0:00:00.034213', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:03.724301', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:52:03.676195', 'stderr': '', 'delta': '0:00:00.048106', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:03.793699', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:52:03.752344', 'stderr': '', 'delta': '0:00:00.041355', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:03.713978', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:52:03.669197', 'stderr': '', 'delta': '0:00:00.044781', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:04.017962', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:52:03.982050', 'stderr': '', 'delta': '0:00:00.035912', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:04.744566', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:52:04.706762', 'stderr': '', 'delta': '0:00:00.037804', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:04.964638', 'stdout': 'web2.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:52:04.898719', 'stderr': '', 'delta': '0:00:00.065919', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:04.602386', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:52:04.565632', 'stderr': '', 'delta': '0:00:00.036754', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:05.170198', 'stdout': 'web2.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:52:05.124053', 'stderr': '', 'delta': '0:00:00.046145', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:05.861543', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:52:05.775951', 'stderr': '', 'delta': '0:00:00.085592', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:05.929565', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:52:05.868145', 'stderr': '', 'delta': '0:00:00.061420', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:06.092021', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:52:06.031053', 'stderr': '', 'delta': '0:00:00.060968', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:06.305256', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 17:52:06.256422', 'stderr': '', 'delta': '0:00:00.048834', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:06.943951', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:52:06.893074', 'stderr': '', 'delta': '0:00:00.050877', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:06.938757', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:52:06.907047', 'stderr': '', 'delta': '0:00:00.031710', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:07.328469', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:52:07.293598', 'stderr': '', 'delta': '0:00:00.034871', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:07.296913', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 17:52:07.254006', 'stderr': '', 'delta': '0:00:00.042907', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:07.879964', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:52:07.836494', 'stderr': '', 'delta': '0:00:00.043470', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:07.894702', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:52:07.856112', 'stderr': '', 'delta': '0:00:00.038590', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:08.244413', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:52:08.207063', 'stderr': '', 'delta': '0:00:00.037350', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:08.259010', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 17:52:08.218440', 'stderr': '', 'delta': '0:00:00.040570', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:08.942045', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:52:08.888345', 'stderr': '', 'delta': '0:00:00.053700', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:08.792043', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:52:08.748900', 'stderr': '', 'delta': '0:00:00.043143', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:09.152268', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:52:09.115124', 'stderr': '', 'delta': '0:00:00.037144', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:09.152674', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 17:52:09.101588', 'stderr': '', 'delta': '0:00:00.051086', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:09.884336', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:09.842338', 'stderr': '', 'delta': '0:00:00.041998', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:09.702476', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:09.663395', 'stderr': '', 'delta': '0:00:00.039081', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:10.149422', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:10.115506', 'stderr': '', 'delta': '0:00:00.033916', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:10.068897', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:10.032901', 'stderr': '', 'delta': '0:00:00.035996', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:10.870550', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:10.825750', 'stderr': '', 'delta': '0:00:00.044800', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:10.628199', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:10.576717', 'stderr': '', 'delta': '0:00:00.051482', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:11.061144', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:11.017349', 'stderr': '', 'delta': '0:00:00.043795', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:11.005383', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:10.947383', 'stderr': '', 'delta': '0:00:00.058000', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:11.845451', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:11.809353', 'stderr': '', 'delta': '0:00:00.036098', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:11.576563', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:11.540412', 'stderr': '', 'delta': '0:00:00.036151', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:11.947325', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:11.915409', 'stderr': '', 'delta': '0:00:00.031916', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:11.979327', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:11.911005', 'stderr': '', 'delta': '0:00:00.068322', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:12.664324', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:12.626776', 'stderr': '', 'delta': '0:00:00.037548', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:12.628839', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:12.566757', 'stderr': '', 'delta': '0:00:00.062082', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:12.920910', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:12.878550', 'stderr': '', 'delta': '0:00:00.042360', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:13.758694', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:13.540393', 'stderr': '', 'delta': '0:00:00.218301', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:12.885663', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:12.846022', 'stderr': '', 'delta': '0:00:00.039641', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:13.636993', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:13.589501', 'stderr': '', 'delta': '0:00:00.047492', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:13.907626', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:13.869723', 'stderr': '', 'delta': '0:00:00.037903', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:15.879527', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:14.708047', 'stderr': '', 'delta': '0:00:01.171480', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:13.777693', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:13.736021', 'stderr': '', 'delta': '0:00:00.041672', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:14.615658', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:14.564254', 'stderr': '', 'delta': '0:00:00.051404', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:14.811356', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:14.773193', 'stderr': '', 'delta': '0:00:00.038163', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:17.125186', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:16.831858', 'stderr': '', 'delta': '0:00:00.293328', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:14.755891', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:14.709065', 'stderr': '', 'delta': '0:00:00.046826', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:15.366742', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:15.332149', 'stderr': '', 'delta': '0:00:00.034593', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:18.053568', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:18.011706', 'stderr': '', 'delta': '0:00:00.041862', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:15.535423', 'stdout': '192.168.50.16\n192.168.50.15', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:15.494452', 'stderr': '', 'delta': '0:00:00.040971', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16', '192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:15.592429', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:15.558069', 'stderr': '', 'delta': '0:00:00.034360', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:16.200634', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:16.161491', 'stderr': '', 'delta': '0:00:00.039143', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:19.071764', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:19.008172', 'stderr': '', 'delta': '0:00:00.063592', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:16.332596', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:16.293453', 'stderr': '', 'delta': '0:00:00.039143', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:16.484798', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:16.447262', 'stderr': '', 'delta': '0:00:00.037536', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:17.113709', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:17.075715', 'stderr': '', 'delta': '0:00:00.037994', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:20.126153', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:20.079570', 'stderr': '', 'delta': '0:00:00.046583', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:17.190732', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:17.158473', 'stderr': '', 'delta': '0:00:00.032259', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:17.382658', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:17.341821', 'stderr': '', 'delta': '0:00:00.040837', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:18.004752', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:17.953575', 'stderr': '', 'delta': '0:00:00.051177', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:21.397877', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:21.326628', 'stderr': '', 'delta': '0:00:00.071249', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:18.134223', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:18.096118', 'stderr': '', 'delta': '0:00:00.038105', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:18.376323', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:18.338774', 'stderr': '', 'delta': '0:00:00.037549', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:18.973212', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:18.914024', 'stderr': '', 'delta': '0:00:00.059188', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:23.159823', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:22.608825', 'stderr': '', 'delta': '0:00:00.550998', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:19.000929', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:18.965273', 'stderr': '', 'delta': '0:00:00.035656', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:19.260416', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 17:52:19.223454', 'stderr': '', 'delta': '0:00:00.036962', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:19.918552', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:19.874218', 'stderr': '', 'delta': '0:00:00.044334', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:24.139682', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:23.811735', 'stderr': '', 'delta': '0:00:00.327947', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:19.896467', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:19.859135', 'stderr': '', 'delta': '0:00:00.037332', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:20.349303', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:20.300634', 'stderr': '', 'delta': '0:00:00.048669', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:20.928469', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:20.878509', 'stderr': '', 'delta': '0:00:00.049960', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:25.076003', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:24.734492', 'stderr': '', 'delta': '0:00:00.341511', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:20.915263', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:20.863477', 'stderr': '', 'delta': '0:00:00.051786', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:21.358569', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:21.323487', 'stderr': '', 'delta': '0:00:00.035082', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:22.081223', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:22.020730', 'stderr': '', 'delta': '0:00:00.060493', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:25.718755', 'stdout': 'zone localhost.localdomain/IN: loaded serial 0\nzone localhost/IN: loaded serial 0\nzone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0\nzone 1.0.0.127.in-addr.arpa/IN: loaded serial 0\nzone 0.in-addr.arpa/IN: loaded serial 0', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 17:52:25.651635', 'stderr': '', 'delta': '0:00:00.067120', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone localhost.localdomain/IN: loaded serial 0', 'zone localhost/IN: loaded serial 0', 'zone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0', 'zone 1.0.0.127.in-addr.arpa/IN: loaded serial 0', 'zone 0.in-addr.arpa/IN: loaded serial 0'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:22.094485', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:22.056856', 'stderr': '', 'delta': '0:00:00.037629', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:22.448275', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 17:52:22.409929', 'stderr': '', 'delta': '0:00:00.038346', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:23.121326', 'stdout': 'zone localhost.localdomain/IN: loaded serial 0\nzone localhost/IN: loaded serial 0\nzone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0\nzone 1.0.0.127.in-addr.arpa/IN: loaded serial 0\nzone 0.in-addr.arpa/IN: loaded serial 0', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 17:52:23.039118', 'stderr': '', 'delta': '0:00:00.082208', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone localhost.localdomain/IN: loaded serial 0', 'zone localhost/IN: loaded serial 0', 'zone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0', 'zone 1.0.0.127.in-addr.arpa/IN: loaded serial 0', 'zone 0.in-addr.arpa/IN: loaded serial 0'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:23.264182', 'stdout': '', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 17:52:23.105130', 'stderr': '', 'delta': '0:00:00.159052', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 17:52:23.332468', 'stdout': 'zone dns.lab/IN: loaded serial 2711201407\nzone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407\nzone newdns.lab/IN: loaded serial 2711201407\nzone 50.168.192.newdns.arpa/IN: loaded serial 2711201407\nzone dns.lab/IN: loaded serial 2711201407\nzone dns.lab/IN: loaded serial 2711201407\nzone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407\nzone newdns.lab/IN: loaded serial 2711201407\nzone 50.168.192.newdns.arpa/IN: loaded serial 2711201407', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 17:52:23.184232', 'stderr': '', 'delta': '0:00:00.148236', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone dns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407', 'zone newdns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.newdns.arpa/IN: loaded serial 2711201407', 'zone dns.lab/IN: loaded serial 2711201407', 'zone dns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407', 'zone newdns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.newdns.arpa/IN: loaded serial 2711201407'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})

PLAY RECAP *********************************************************************
client1                    : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
client2                    : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns01                       : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns02                       : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


```

</details>

### Итог для client1:

```text
клиент1 - видит обе зоны, но в зоне dns.lab только web1
```
то есть как я понял
```text
клиент1 - видит ВСЁ в зоне newdns.lab и в зоне dns.lab ТОЛЬКО web1 (однако с отключением видимости ns01 и ns02 не вышло)
```


<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text

```

</details>

### Итог для client2:

```text
клиент2 - видит только dns.lab
```
то есть как я понял
```text
клиент1 - видит ВСЁ-ВСЁ в зоне dns.lab, а зону newdns.lab и ВСЁ в ней ВООБЩЕ НЕ ВИДИТ
```


<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text

```

</details>

### Итог для ns01:

АБСОЛЮТНАЯ видимость


<details><summary>см. лог исполнения `sudo named-checkconf -z`</summary>

```text
zone dns.lab/IN: loaded serial 2711201407
zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407
zone newdns.lab/IN: loaded serial 2711201407
zone 50.168.192.newdns.arpa/IN: loaded serial 2711201407
zone dns.lab/IN: loaded serial 2711201407
zone dns.lab/IN: loaded serial 2711201407
zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407
zone newdns.lab/IN: loaded serial 2711201407
zone 50.168.192.newdns.arpa/IN: loaded serial 2711201407
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text

```

</details>

### Итог для ns02:

АБСОЛЮТНАЯ видимость


<details><summary>см. лог исполнения `sudo named-checkconf -z`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.16
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text

```

</details>

## На потом

А чем `nslookup` лучше/хуже `dig`:

```shell
nslookup www.dns.lab 192.168.50.10

  Server:		192.168.50.10
  Address:	192.168.50.10#53
  
  ** server can't find www.dns.lab: NXDOMAIN

nslookup www.newdns.lab 192.168.50.10
  
  Server:		192.168.50.10
  Address:	192.168.50.10#53
  
  Name:	www.newdns.lab
  Address: 192.168.50.16
  Name:	www.newdns.lab
  Address: 192.168.50.15

```

## Для развития

* Задача про split dns - это точно задача про split dns. Я как понял, главное  предназначение Split, это выдача различных действующих ip адресов одной и той же зоны для разных сегментов сети (у разной адресации клиентов будут разные ip доменов). А тут как бы просто ограничение доступа по доменам?
* Неужели не существует фреймворка/утилиты, которая бы по many-to-many структуре и шаблончикам файлов на той же jinja сгенерировала (со всеми фишками наследования и вложения) бы конфиги для BIND сервера DNS?