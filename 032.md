# DNS

* взять стенд https://github.com/erlong15/vagrant-bind
* добавить еще один сервер client2
* завести в зоне dns.lab имена
  * web1 - смотрит на клиент1
  * web2  смотрит на клиент2
* завести еще одну зону newdns.lab
  * завести в ней запись
  * www - смотрит на обоих клиентов
* настроить split-dns
  * клиент1 - видит обе зоны, но в зоне dns.lab только web1
  * клиент2 видит только dns.lab
* настроить все без выключения selinux

## Исполнение

```shell
cd 032/vm/
cd ../vm/
vagrant destroy -f && vagrant up 
python3 v2a.py -o ../ansible/inventories/hosts # Это уже как кредо
cd ../ansible/
ansible-playbook playbooks/deploy.yml > ../files/deploy.yml.txt
ansible-playbook playbooks/check.yml > ../files/check.yml.txt

```


<details><summary>см. лог `playbooks/deploy.yml`</summary>

```text

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [client1]
ok: [client2]
ok: [ns02]
ok: [ns01]

TASK [rollback to initial os state | rm -f /etc/resolv.conf] *******************
changed: [client2]
changed: [ns02]
changed: [client1]
changed: [ns01]

TASK [remove packages] *********************************************************
ok: [client1] => (item=bind)
ok: [client2] => (item=bind)
ok: [ns02] => (item=bind)
ok: [ns01] => (item=bind)
ok: [client2] => (item=bind-utils)
ok: [client1] => (item=bind-utils)
ok: [ns02] => (item=bind-utils)
ok: [ns01] => (item=bind-utils)
ok: [client2] => (item=ntp)
ok: [client1] => (item=ntp)
ok: [ns02] => (item=ntp)
ok: [ns01] => (item=ntp)

TASK [install packages] ********************************************************
changed: [ns02] => (item=bind)
changed: [ns02] => (item=bind-utils)
changed: [ns01] => (item=bind)
changed: [client1] => (item=bind)
changed: [client2] => (item=bind)
changed: [ns02] => (item=ntp)
changed: [ns01] => (item=bind-utils)
changed: [client1] => (item=bind-utils)
changed: [client2] => (item=bind-utils)
changed: [ns01] => (item=ntp)
changed: [client2] => (item=ntp)
changed: [client1] => (item=ntp)

TASK [copy transferkey to all servers and the client] **************************
changed: [client2]
changed: [ns01]
changed: [ns02]
changed: [client1]

TASK [network manager war | /etc/NetworkManager/NetworkManager.conf | content] ***
changed: [ns01]
changed: [ns02]
changed: [client2]
changed: [client1]

TASK [network manager war | /etc/NetworkManager/NetworkManager.conf | dns=none | if did not set] ***
changed: [ns02]
changed: [ns01]
changed: [client2]
changed: [client1]

TASK [network manager war | /etc/NetworkManager/NetworkManager.conf | dns=none] ***
ok: [client2]
ok: [ns01]
ok: [client1]
ok: [ns02]

TASK [ensure network is running and enabled] ***********************************
changed: [client2]
changed: [client1]
changed: [ns02]
changed: [ns01]

PLAY [ns01] ********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [ns01]

TASK [rollback to initial os state | rm -f /etc/named] *************************
changed: [ns01]

TASK [copy named.conf] *********************************************************
changed: [ns01]

TASK [copy zones] **************************************************************
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.client2)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.rev.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.rev)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.rev.client2)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab.rev.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab.rev)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab)

TASK [copy resolv.conf to the servers] *****************************************
changed: [ns01]

TASK [network manager war | chattr +i /etc/resolv.conf] ************************
changed: [ns01]

TASK [set /etc/named permissions] **********************************************
changed: [ns01]

TASK [ensure named is running and enabled] *************************************
changed: [ns01]

PLAY [ns02] ********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [ns02]

TASK [rollback to initial os state | rm -f /etc/named] *************************
changed: [ns02]

TASK [copy named.conf] *********************************************************
changed: [ns02]

TASK [copy resolv.conf to the servers] *****************************************
changed: [ns02]

TASK [network manager war | chattr +i /etc/resolv.conf] ************************
changed: [ns02]

TASK [set /etc/named permissions] **********************************************
changed: [ns02]

TASK [ensure named is running and enabled] *************************************
changed: [ns02]

PLAY [client1,client2] *********************************************************

TASK [Gathering Facts] *********************************************************
ok: [client2]
ok: [client1]

TASK [copy resolv.conf to the client] ******************************************
changed: [client1]
changed: [client2]

TASK [network manager war | rm -f /etc/resolv.conf] ****************************
changed: [client1]
changed: [client2]

TASK [copy rndc conf file] *****************************************************
changed: [client1]
changed: [client2]

TASK [copy motd to the client] *************************************************
changed: [client1]
changed: [client2]

PLAY RECAP *********************************************************************
client1                    : ok=14   changed=10   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
client2                    : ok=14   changed=10   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns01                       : ok=17   changed=13   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns02                       : ok=16   changed=12   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


```

</details>

Подводным камнем является использование для трансфера зон разных ключей. Ниже показано как их сгенерировать и использовать.


## Демонстрация работоспособности

Напоминание:
* ns01 - "192.168.50.10"
* ns02 - "192.168.50.11"
* client1 (он же web1, www) - "192.168.50.15"
* client2 (он же web2, www) - "192.168.50.12"

"настроить все без выключения selinux" - странно, но я его и не отключал.

На каждом хосте запущен [список команд](./032/ansible/playbooks/check.yml) для проверки доступности зон и хостов.

<details><summary>см. список команд</summary>

```properties
---
- hosts: all
  tasks:
  - name: dns access records checker
    shell: "{{ item }}"
    when: not("{{ item }}" == '')
    loop:
      - #
      - dig @192.168.50.10 +short -x 192.168.50.10
      - dig @192.168.50.10 +short -x 192.168.50.11
      - dig @192.168.50.10 +short -x 192.168.50.15
      - dig @192.168.50.10 +short -x 192.168.50.16
      - #
      - dig @192.168.50.11 +short -x 192.168.50.10
      - dig @192.168.50.11 +short -x 192.168.50.11
      - dig @192.168.50.11 +short -x 192.168.50.15
      - dig @192.168.50.11 +short -x 192.168.50.16
      - #
      - dig @192.168.50.10 +short ns01.dns.lab
      - dig @192.168.50.10 +short ns02.dns.lab
      - dig @192.168.50.10 +short web1.dns.lab
      - dig @192.168.50.10 +short web2.dns.lab
      - dig @192.168.50.10 +short ns01.newdns.lab
      - dig @192.168.50.10 +short ns02.newdns.lab
      - dig @192.168.50.10 +short www.newdns.lab
      - #
      - dig @192.168.50.11 +short ns01.dns.lab
      - dig @192.168.50.11 +short ns02.dns.lab
      - dig @192.168.50.11 +short web1.dns.lab
      - dig @192.168.50.11 +short web2.dns.lab
      - dig @192.168.50.11 +short ns01.newdns.lab
      - dig @192.168.50.11 +short ns02.newdns.lab
      - dig @192.168.50.11 +short www.newdns.lab
      - #
      - sudo named-checkconf -z
    register: check_content

  - name: Store check to files
    local_action:
      module: copy
      content: "{{ item['stdout'] }}"
      dest: "../../files/tests_reports/{{ inventory_hostname }}-{{ item['cmd'] | replace('/', '_') | replace(' ', '-') }}.txt"
    loop: "{{ check_content['results'] }}"
    when: item['stdout'] is defined
```

</details>
Вывод команд приведен в спойлерах: вывод команд либо есть и он правильный, либо вывода нет, что также подтверждает верность настройки.

```shell
ansible-playbook playbooks/check.yml > ../files/check.yml.txt
```


<details><summary>см. лог исполнения `playbooks/check.yml`</summary>

```text

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [client2]
ok: [client1]
ok: [ns02]
ok: [ns01]

TASK [dns access records checker] **********************************************
skipping: [ns01] => (item=None) 
skipping: [ns02] => (item=None) 
skipping: [client1] => (item=None) 
skipping: [client2] => (item=None) 
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [ns02] => (item=None) 
skipping: [client1] => (item=None) 
skipping: [ns01] => (item=None) 
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [client2] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [ns02] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [ns01] => (item=None) 
skipping: [client2] => (item=None) 
skipping: [client1] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [ns02] => (item=None) 
changed: [client1] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [client1] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [ns01] => (item=None) 
changed: [client2] => (item=dig @192.168.50.10 +short www.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns01.dns.lab)
skipping: [client2] => (item=None) 
changed: [client1] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [ns02] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [ns01] => (item=None) 
changed: [client1] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [client1] => (item=None) 
changed: [client2] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [ns02] => (item=sudo named-checkconf -z)
changed: [client1] => (item=sudo named-checkconf -z)
changed: [ns01] => (item=sudo named-checkconf -z)
changed: [client2] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [client2] => (item=None) 
changed: [client2] => (item=sudo named-checkconf -z)

TASK [Store check to files] ****************************************************
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:49.410392', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-28 14:19:49.232401', 'stderr': '', 'delta': '0:00:00.177991', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:49.410209', 'stdout': 'ns01.dns.lab.\nns01.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-28 14:19:49.262589', 'stderr': '', 'delta': '0:00:00.147620', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.', 'ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:49.413762', 'stdout': 'ns01.newdns.lab.\nns01.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-28 14:19:49.253371', 'stderr': '', 'delta': '0:00:00.160391', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.newdns.lab.', 'ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:49.496110', 'stdout': 'ns01.dns.lab.\nns01.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-28 14:19:49.368808', 'stderr': '', 'delta': '0:00:00.127302', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.', 'ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:50.371659', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-28 14:19:50.325368', 'stderr': '', 'delta': '0:00:00.046291', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:50.359346', 'stdout': 'ns02.newdns.lab.\nns02.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-28 14:19:50.310370', 'stderr': '', 'delta': '0:00:00.048976', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.newdns.lab.', 'ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:50.446345', 'stdout': 'ns02.newdns.lab.\nns02.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-28 14:19:50.388663', 'stderr': '', 'delta': '0:00:00.057682', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.newdns.lab.', 'ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:50.481581', 'stdout': 'ns02.newdns.lab.\nns02.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-28 14:19:50.449195', 'stderr': '', 'delta': '0:00:00.032386', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.newdns.lab.', 'ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:51.483541', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-28 14:19:51.436556', 'stderr': '', 'delta': '0:00:00.046985', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:51.358024', 'stdout': 'web1.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-28 14:19:51.312973', 'stderr': '', 'delta': '0:00:00.045051', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:51.353286', 'stdout': 'web1.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-28 14:19:51.315932', 'stderr': '', 'delta': '0:00:00.037354', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:51.370903', 'stdout': 'web1.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-28 14:19:51.333659', 'stderr': '', 'delta': '0:00:00.037244', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:52.430587', 'stdout': 'web2.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-28 14:19:52.384612', 'stderr': '', 'delta': '0:00:00.045975', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:52.357475', 'stdout': 'web2.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-28 14:19:52.293853', 'stderr': '', 'delta': '0:00:00.063622', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:52.353718', 'stdout': 'www.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-28 14:19:52.307996', 'stderr': '', 'delta': '0:00:00.045722', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:52.363408', 'stdout': 'web2.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-28 14:19:52.318958', 'stderr': '', 'delta': '0:00:00.044450', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:53.444238', 'stdout': 'ns01.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-28 14:19:53.394808', 'stderr': '', 'delta': '0:00:00.049430', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:53.275763', 'stdout': 'ns01.dns.lab.\nns01.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-28 14:19:53.237518', 'stderr': '', 'delta': '0:00:00.038245', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.', 'ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:53.289832', 'stdout': 'ns01.newdns.lab.\nns01.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-28 14:19:53.248423', 'stderr': '', 'delta': '0:00:00.041409', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.newdns.lab.', 'ns01.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:53.436203', 'stdout': 'ns01.dns.lab.\nns01.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-28 14:19:53.385784', 'stderr': '', 'delta': '0:00:00.050419', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.', 'ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:54.420371', 'stdout': 'ns02.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-28 14:19:54.358304', 'stderr': '', 'delta': '0:00:00.062067', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:54.318255', 'stdout': 'ns02.newdns.lab.\nns02.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-28 14:19:54.279395', 'stderr': '', 'delta': '0:00:00.038860', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.newdns.lab.', 'ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:54.303047', 'stdout': 'ns02.newdns.lab.\nns02.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-28 14:19:54.250643', 'stderr': '', 'delta': '0:00:00.052404', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.newdns.lab.', 'ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:55.402178', 'stdout': 'web1.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-28 14:19:55.363259', 'stderr': '', 'delta': '0:00:00.038919', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:54.385206', 'stdout': 'ns02.dns.lab.\nns02.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-28 14:19:54.335993', 'stderr': '', 'delta': '0:00:00.049213', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.', 'ns02.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:55.242200', 'stdout': 'web1.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-28 14:19:55.203577', 'stderr': '', 'delta': '0:00:00.038623', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:55.271314', 'stdout': 'web1.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-28 14:19:55.227157', 'stderr': '', 'delta': '0:00:00.044157', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:56.320824', 'stdout': 'web2.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-28 14:19:56.279681', 'stderr': '', 'delta': '0:00:00.041143', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:55.377508', 'stdout': 'web1.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-28 14:19:55.337971', 'stderr': '', 'delta': '0:00:00.039537', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:56.209165', 'stdout': 'www.newdns.lab.\nweb2.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-28 14:19:56.173538', 'stderr': '', 'delta': '0:00:00.035627', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.', 'web2.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:57.285861', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-28 14:19:57.247656', 'stderr': '', 'delta': '0:00:00.038205', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:56.345966', 'stdout': 'www.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-28 14:19:56.301442', 'stderr': '', 'delta': '0:00:00.044524', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:56.317865', 'stdout': 'web2.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-28 14:19:56.274820', 'stderr': '', 'delta': '0:00:00.043045', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:57.210260', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-28 14:19:57.167072', 'stderr': '', 'delta': '0:00:00.043188', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:58.391629', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-28 14:19:58.326798', 'stderr': '', 'delta': '0:00:00.064831', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:57.234329', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-28 14:19:57.186373', 'stderr': '', 'delta': '0:00:00.047956', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:57.443658', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-28 14:19:57.406255', 'stderr': '', 'delta': '0:00:00.037403', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:58.165315', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-28 14:19:58.120131', 'stderr': '', 'delta': '0:00:00.045184', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:59.302884', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-28 14:19:59.260043', 'stderr': '', 'delta': '0:00:00.042841', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:58.204071', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-28 14:19:58.161403', 'stderr': '', 'delta': '0:00:00.042668', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:58.355185', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-28 14:19:58.319286', 'stderr': '', 'delta': '0:00:00.035899', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:59.130664', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-28 14:19:59.081221', 'stderr': '', 'delta': '0:00:00.049443', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:00.215864', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:00.174366', 'stderr': '', 'delta': '0:00:00.041498', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:59.174456', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-28 14:19:59.137431', 'stderr': '', 'delta': '0:00:00.037025', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:19:59.363752', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-28 14:19:59.323498', 'stderr': '', 'delta': '0:00:00.040254', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:00.091488', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:00.045123', 'stderr': '', 'delta': '0:00:00.046365', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:01.337923', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:01.166647', 'stderr': '', 'delta': '0:00:00.171276', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:00.305152', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:00.248426', 'stderr': '', 'delta': '0:00:00.056726', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:00.310899', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:00.273848', 'stderr': '', 'delta': '0:00:00.037051', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:00.965744', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:00.929967', 'stderr': '', 'delta': '0:00:00.035777', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:02.458966', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:02.254077', 'stderr': '', 'delta': '0:00:00.204889', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:01.340891', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:01.305254', 'stderr': '', 'delta': '0:00:00.035637', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:01.269827', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:01.200266', 'stderr': '', 'delta': '0:00:00.069561', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:01.898124', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:01.845850', 'stderr': '', 'delta': '0:00:00.052274', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:03.694005', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:03.399645', 'stderr': '', 'delta': '0:00:00.294360', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:02.352775', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:02.313916', 'stderr': '', 'delta': '0:00:00.038859', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:02.205990', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:02.168193', 'stderr': '', 'delta': '0:00:00.037797', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:02.813221', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:02.778207', 'stderr': '', 'delta': '0:00:00.035014', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:04.629759', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:04.580849', 'stderr': '', 'delta': '0:00:00.048910', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:03.247812', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:03.205099', 'stderr': '', 'delta': '0:00:00.042713', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:03.277835', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:03.238265', 'stderr': '', 'delta': '0:00:00.039570', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:03.704847', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:03.668768', 'stderr': '', 'delta': '0:00:00.036079', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:05.609589', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:05.562421', 'stderr': '', 'delta': '0:00:00.047168', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:04.161207', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:04.115257', 'stderr': '', 'delta': '0:00:00.045950', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:04.272479', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:04.222961', 'stderr': '', 'delta': '0:00:00.049518', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:04.735207', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:04.678046', 'stderr': '', 'delta': '0:00:00.057161', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:06.564655', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:06.517353', 'stderr': '', 'delta': '0:00:00.047302', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:05.190888', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:05.156687', 'stderr': '', 'delta': '0:00:00.034201', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:05.253284', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:05.203234', 'stderr': '', 'delta': '0:00:00.050050', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:05.679883', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:05.639204', 'stderr': '', 'delta': '0:00:00.040679', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:07.597369', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:07.535783', 'stderr': '', 'delta': '0:00:00.061586', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:06.190741', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:06.154645', 'stderr': '', 'delta': '0:00:00.036096', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:06.217514', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:06.171916', 'stderr': '', 'delta': '0:00:00.045598', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:06.678752', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:06.642037', 'stderr': '', 'delta': '0:00:00.036715', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:08.826770', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:08.521382', 'stderr': '', 'delta': '0:00:00.305388', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:07.177690', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:07.139321', 'stderr': '', 'delta': '0:00:00.038369', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:07.164289', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-28 14:20:07.121072', 'stderr': '', 'delta': '0:00:00.043217', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:07.629858', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:07.591967', 'stderr': '', 'delta': '0:00:00.037891', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:10.092371', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:09.771730', 'stderr': '', 'delta': '0:00:00.320641', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:08.152816', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:08.112678', 'stderr': '', 'delta': '0:00:00.040138', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:08.117742', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:08.078262', 'stderr': '', 'delta': '0:00:00.039480', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:08.669811', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:08.625165', 'stderr': '', 'delta': '0:00:00.044646', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:11.416822', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:10.931967', 'stderr': '', 'delta': '0:00:00.484855', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:09.065044', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:09.010369', 'stderr': '', 'delta': '0:00:00.054675', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:08.995483', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:08.956234', 'stderr': '', 'delta': '0:00:00.039249', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:09.666916', 'stdout': '192.168.50.16\n192.168.50.15', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:09.626239', 'stderr': '', 'delta': '0:00:00.040677', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16', '192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:12.066095', 'stdout': 'zone localhost.localdomain/IN: loaded serial 0\nzone localhost/IN: loaded serial 0\nzone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0\nzone 1.0.0.127.in-addr.arpa/IN: loaded serial 0\nzone 0.in-addr.arpa/IN: loaded serial 0', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-28 14:20:11.990176', 'stderr': '', 'delta': '0:00:00.075919', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone localhost.localdomain/IN: loaded serial 0', 'zone localhost/IN: loaded serial 0', 'zone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0', 'zone 1.0.0.127.in-addr.arpa/IN: loaded serial 0', 'zone 0.in-addr.arpa/IN: loaded serial 0'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:09.986714', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:09.940612', 'stderr': '', 'delta': '0:00:00.046102', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:09.974666', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-28 14:20:09.938955', 'stderr': '', 'delta': '0:00:00.035711', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
ok: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:10.714517', 'stdout': '', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-28 14:20:10.529188', 'stderr': '', 'delta': '0:00:00.185329', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
ok: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:10.981308', 'stdout': 'zone localhost.localdomain/IN: loaded serial 0\nzone localhost/IN: loaded serial 0\nzone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0\nzone 1.0.0.127.in-addr.arpa/IN: loaded serial 0\nzone 0.in-addr.arpa/IN: loaded serial 0', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-28 14:20:10.869866', 'stderr': '', 'delta': '0:00:00.111442', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone localhost.localdomain/IN: loaded serial 0', 'zone localhost/IN: loaded serial 0', 'zone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0', 'zone 1.0.0.127.in-addr.arpa/IN: loaded serial 0', 'zone 0.in-addr.arpa/IN: loaded serial 0'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
ok: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-28 14:20:11.080663', 'stdout': 'zone dns.lab/IN: loaded serial 2711201407\nzone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407\nzone newdns.lab/IN: loaded serial 2711201407\nzone dns.lab/IN: loaded serial 2711201407\nzone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407\nzone dns.lab/IN: loaded serial 2711201407\nzone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407\nzone newdns.lab/IN: loaded serial 2711201407', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-28 14:20:10.921240', 'stderr': '', 'delta': '0:00:00.159423', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone dns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407', 'zone newdns.lab/IN: loaded serial 2711201407', 'zone dns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407', 'zone dns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407', 'zone newdns.lab/IN: loaded serial 2711201407'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})

PLAY RECAP *********************************************************************
client1                    : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
client2                    : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns01                       : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns02                       : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


```

</details>

### Итог для client1:

```text
клиент1 - видит обе зоны, но в зоне dns.lab только web1
```
то есть как я понял
```text
клиент1 - видит ВСЁ в зоне newdns.lab и в зоне dns.lab НЕ ВИДИТ web2 (видит web1 и штатнын ns01 и ns02)
```


<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.newdns.lab.
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.newdns.lab.
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.newdns.lab.
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.newdns.lab.
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text
www.newdns.lab.
```

</details>

### Итог для client2:

```text
клиент2 - видит только dns.lab
```
то есть как я понял
```text
клиент1 - видит ВСЁ-ВСЁ в зоне dns.lab, а зону newdns.lab и ВСЁ в ней ВООБЩЕ НЕ ВИДИТ
```


<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
```

</details>

### Итог для ns01:

ns01 обладает АБСОЛЮТНОЙ видимостью.


<details><summary>см. лог исполнения `sudo named-checkconf -z`</summary>

```text
zone dns.lab/IN: loaded serial 2711201407
zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407
zone newdns.lab/IN: loaded serial 2711201407
zone dns.lab/IN: loaded serial 2711201407
zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407
zone dns.lab/IN: loaded serial 2711201407
zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407
zone newdns.lab/IN: loaded serial 2711201407
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.newdns.lab.
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
ns02.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
www.newdns.lab.
```

</details>

### Итог для ns02:

ns02 обладает АБСОЛЮТНОЙ видимостью.


<details><summary>см. лог исполнения `sudo named-checkconf -z`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.16
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.newdns.lab.
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.newdns.lab.
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text
www.newdns.lab.
web2.dns.lab.
```

</details>

## О резолвинге

Приходится смешивать файлы резолвинга (IP-домены) в один файл, так как ищет первое соответствие?

## О трансфере зон

Очень важно задействовать для трансфера зон различных представлений\видов (view) РАЗНЫЕ ключи, а то результат будет предсказуемо неверный.

* http://www.grok.org.uk/docs/tsig.html

```shell
dnssec-keygen -a HMAC-MD5 -n HOST -b 128 -r /dev/urandom client1.key
  Kclient1.key.+157+63320
at ./Kclient1.key.+157+63320.key 
  client1.key. IN KEY 512 3 157 LoValz1cnhrsFNFcp/UnwQ==

    key "client1.key" { algorithm hmac-md5; secret "LoValz1cnhrsFNFcp/UnwQ=="; }; <--- Это в конфиг
    
    
dnssec-keygen -a HMAC-MD5 -n HOST -b 128 -r /dev/urandom client2.key
  Kclient2.key.+157+22995
cat ./Kclient2.key.+157+22995.key 
  client2.key. IN KEY 512 3 157 hRayFT5xMeJ1oy7NXZyqqQ==

    key "client2.key" { algorithm hmac-md5; secret "hRayFT5xMeJ1oy7NXZyqqQ=="; }; <--- Это в конфиг

```

## В копилку минусов Network Manager 

Чтоб при перезапуске сети Network Manager не менял /etc/resolv.conf по его документации в секции main нужно сделать
```text
[main]
dns=none
```
Но это НЕ работает, а работает
```shell
chattr +i /etc/resolv.conf
```

## На "потом"

А чем `nslookup` лучше/хуже `dig`:

```shell
nslookup www.dns.lab 192.168.50.10

  Server:		192.168.50.10
  Address:	192.168.50.10#53
  
  ** server can't find www.dns.lab: NXDOMAIN

nslookup www.newdns.lab 192.168.50.10
  
  Server:		192.168.50.10
  Address:	192.168.50.10#53
  
  Name:	www.newdns.lab
  Address: 192.168.50.16
  Name:	www.newdns.lab
  Address: 192.168.50.15

```

## Для развития

* Задача про split dns - это точно задача про split dns. Я как понял, главное  предназначение Split, это выдача различных действующих ip адресов одной и той же зоны для разных сегментов сети (у разной адресации клиентов будут разные ip доменов). А тут как бы просто ограничение доступа по доменам?
* Неужели не существует фреймворка/утилиты, которая бы по many-to-many структуре и шаблончикам файлов на той же jinja сгенерировала (со всеми фишками наследования и вложения) бы конфиги для BIND сервера DNS?
