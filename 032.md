# DNS

* взять стенд https://github.com/erlong15/vagrant-bind
* добавить еще один сервер client2
* завести в зоне dns.lab имена
  * web1 - смотрит на клиент1
  * web2  смотрит на клиент2
* завести еще одну зону newdns.lab
  * завести в ней запись
  * www - смотрит на обоих клиентов
* настроить split-dns
  * клиент1 - видит обе зоны, но в зоне dns.lab только web1
  * клиент2 видит только dns.lab
* настроить все без выключения selinux



## Исполнение

```shell
cd 032/vm/
cd ../vm/
vagrant destroy -f && vagrant up 
python3 v2a.py -o ../ansible/inventories/hosts # Это уже как кредо
cd ../ansible/
ansible-playbook playbooks/deploy.yml > ../files/deploy.yml.txt
```


<details><summary>см. лог `playbooks/deploy.yml`</summary>

```text

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [client2]
ok: [client1]
ok: [ns02]
ok: [ns01]

TASK [rollback to initial os state | rm -f /etc/resolv.conf] *******************
changed: [client1]
changed: [client2]
changed: [ns02]
changed: [ns01]

TASK [remove packages] *********************************************************
changed: [client1] => (item=bind)
changed: [client2] => (item=bind)
changed: [client1] => (item=bind-utils)
changed: [client2] => (item=bind-utils)
changed: [ns02] => (item=bind)
changed: [ns01] => (item=bind)
changed: [client1] => (item=ntp)
changed: [client2] => (item=ntp)
changed: [ns02] => (item=bind-utils)
changed: [ns01] => (item=bind-utils)
changed: [ns02] => (item=ntp)
changed: [ns01] => (item=ntp)

TASK [install packages] ********************************************************
changed: [ns01] => (item=bind)
changed: [client2] => (item=bind)
changed: [ns02] => (item=bind)
changed: [client1] => (item=bind)
changed: [ns01] => (item=bind-utils)
changed: [client2] => (item=bind-utils)
changed: [ns02] => (item=bind-utils)
changed: [client1] => (item=bind-utils)
changed: [ns01] => (item=ntp)
changed: [client2] => (item=ntp)
changed: [ns02] => (item=ntp)
changed: [client1] => (item=ntp)

TASK [copy transferkey to all servers and the client] **************************
ok: [client1]
ok: [ns01]
ok: [client2]
ok: [ns02]

PLAY [ns01] ********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [ns01]

TASK [rollback to initial os state | rm -f /etc/named] *************************
changed: [ns01]

TASK [copy named.conf] *********************************************************
changed: [ns01]

TASK [copy zones] **************************************************************
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.client2)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.rev.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.rev)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.dns.lab.rev.client2)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab.client1)
changed: [ns01] => (item=/home/b/pycharm_projects_2021_2/otus_linux/032/ansible/playbooks/named.newdns.lab)

TASK [copy resolv.conf to the servers] *****************************************
changed: [ns01]

TASK [set /etc/named permissions] **********************************************
changed: [ns01]

TASK [ensure named is running and enabled] *************************************
changed: [ns01]

PLAY [ns02] ********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [ns02]

TASK [rollback to initial os state | rm -f /etc/named] *************************
changed: [ns02]

TASK [copy named.conf] *********************************************************
changed: [ns02]

TASK [copy resolv.conf to the servers] *****************************************
changed: [ns02]

TASK [set /etc/named permissions] **********************************************
changed: [ns02]

TASK [ensure named is running and enabled] *************************************
changed: [ns02]

PLAY [client1,client2] *********************************************************

TASK [Gathering Facts] *********************************************************
ok: [client1]
ok: [client2]

TASK [copy resolv.conf to the client] ******************************************
changed: [client1]
changed: [client2]

TASK [copy rndc conf file] *****************************************************
ok: [client1]
ok: [client2]

TASK [copy motd to the client] *************************************************
ok: [client1]
ok: [client2]

PLAY RECAP *********************************************************************
client1                    : ok=9    changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
client2                    : ok=9    changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns01                       : ok=12   changed=9    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns02                       : ok=11   changed=8    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


```

</details>

## Демонстрация работоспособности

Напоминание:
* ns01 - "192.168.50.10"
* ns02 - "192.168.50.11"
* client1 (он же web1, www) - "192.168.50.15"
* client2 (он же web2, www) - "192.168.50.12"

На каждом хосте запущен [список команд](./032/ansible/playbooks/check.yml) для проверки доступности зон и хостов.

<details><summary>см. список команд</summary>

```properties
---
- hosts: all
  tasks:
  - name: dns access records checker
    shell: "{{ item }}"
    when: not("{{ item }}" == '')
    loop:
      - #
      - dig @192.168.50.10 +short -x 192.168.50.10
      - dig @192.168.50.10 +short -x 192.168.50.11
      - dig @192.168.50.10 +short -x 192.168.50.15
      - dig @192.168.50.10 +short -x 192.168.50.16
      - #
      - dig @192.168.50.11 +short -x 192.168.50.10
      - dig @192.168.50.11 +short -x 192.168.50.11
      - dig @192.168.50.11 +short -x 192.168.50.15
      - dig @192.168.50.11 +short -x 192.168.50.16
      - #
      - dig @192.168.50.10 +short ns01.dns.lab
      - dig @192.168.50.10 +short ns02.dns.lab
      - dig @192.168.50.10 +short web1.dns.lab
      - dig @192.168.50.10 +short web2.dns.lab
      - dig @192.168.50.10 +short ns01.newdns.lab
      - dig @192.168.50.10 +short ns02.newdns.lab
      - dig @192.168.50.10 +short www.newdns.lab
      - #
      - dig @192.168.50.11 +short ns01.dns.lab
      - dig @192.168.50.11 +short ns02.dns.lab
      - dig @192.168.50.11 +short web1.dns.lab
      - dig @192.168.50.11 +short web2.dns.lab
      - dig @192.168.50.11 +short ns01.newdns.lab
      - dig @192.168.50.11 +short ns02.newdns.lab
      - dig @192.168.50.11 +short www.newdns.lab
      - #
      - sudo named-checkconf -z
    register: check_content

  - name: Store check to files
    local_action:
      module: copy
      content: "{{ item['stdout'] }}"
      dest: "../../files/tests_reports/{{ inventory_hostname }}-{{ item['cmd'] | replace('/', '_') | replace(' ', '-') }}.txt"
    loop: "{{ check_content['results'] }}"
    when: item['stdout'] is defined
```

</details>

```shell
ansible-playbook playbooks/check.yml > ../files/check.yml.txt
```


<details><summary>см. лог исполнения `playbooks/check.yml`</summary>

```text

PLAY [all] *********************************************************************

TASK [Gathering Facts] *********************************************************
ok: [client1]
ok: [ns02]
ok: [ns01]
ok: [client2]

TASK [dns access records checker] **********************************************
skipping: [ns01] => (item=None) 
skipping: [ns02] => (item=None) 
skipping: [client1] => (item=None) 
skipping: [client2] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.10)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.11)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.15)
changed: [ns01] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [ns01] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [ns02] => (item=None) 
changed: [client1] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [client1] => (item=None) 
changed: [client2] => (item=dig @192.168.50.10 +short -x 192.168.50.16)
skipping: [client2] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.10)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.11)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.15)
changed: [ns01] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [ns01] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [ns02] => (item=None) 
changed: [client1] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [client1] => (item=None) 
changed: [client2] => (item=dig @192.168.50.11 +short -x 192.168.50.16)
skipping: [client2] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns01.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns02.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short web1.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short web2.dns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns01.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [client1] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.10 +short www.newdns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short ns02.newdns.lab)
skipping: [ns01] => (item=None) 
changed: [client1] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [client1] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [ns02] => (item=None) 
changed: [client1] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [client2] => (item=dig @192.168.50.10 +short www.newdns.lab)
skipping: [client2] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns01.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns02.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short web1.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short web2.dns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [ns01] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [client2] => (item=dig @192.168.50.11 +short ns01.newdns.lab)
changed: [ns02] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [client1] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [client1] => (item=None) 
changed: [ns02] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [ns02] => (item=None) 
changed: [ns01] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [ns01] => (item=None) 
changed: [client2] => (item=dig @192.168.50.11 +short ns02.newdns.lab)
changed: [client1] => (item=sudo named-checkconf -z)
changed: [ns02] => (item=sudo named-checkconf -z)
changed: [ns01] => (item=sudo named-checkconf -z)
changed: [client2] => (item=dig @192.168.50.11 +short www.newdns.lab)
skipping: [client2] => (item=None) 
changed: [client2] => (item=sudo named-checkconf -z)

TASK [Store check to files] ****************************************************
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:40.647059', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 13:23:40.510308', 'stderr': '', 'delta': '0:00:00.136751', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:40.635577', 'stdout': 'ns01.dns.lab.\nns01.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 13:23:40.565814', 'stderr': '', 'delta': '0:00:00.069763', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.', 'ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:40.616256', 'stdout': 'ns01.dns.lab.\nns01.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 13:23:40.563376', 'stderr': '', 'delta': '0:00:00.052880', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.dns.lab.', 'ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:40.764976', 'stdout': 'ns01.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 13:23:40.648540', 'stderr': '', 'delta': '0:00:00.116436', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:41.508411', 'stdout': 'ns02.newdns.lab.\nns02.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 13:23:41.473345', 'stderr': '', 'delta': '0:00:00.035066', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.newdns.lab.', 'ns02.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:41.574260', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 13:23:41.533326', 'stderr': '', 'delta': '0:00:00.040934', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:41.673210', 'stdout': 'ns02.dns.lab.\nns02.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 13:23:41.636187', 'stderr': '', 'delta': '0:00:00.037023', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.dns.lab.', 'ns02.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:41.645260', 'stdout': 'ns02.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 13:23:41.611237', 'stderr': '', 'delta': '0:00:00.034023', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:42.461342', 'stdout': 'web1.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 13:23:42.415308', 'stderr': '', 'delta': '0:00:00.046034', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:42.640366', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 13:23:42.600036', 'stderr': '', 'delta': '0:00:00.040330', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:42.525840', 'stdout': 'www.newdns.lab.\nweb1.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 13:23:42.487947', 'stderr': '', 'delta': '0:00:00.037893', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.', 'web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:42.586831', 'stdout': 'www.newdns.lab.\nweb1.dns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 13:23:42.534462', 'stderr': '', 'delta': '0:00:00.052369', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.', 'web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:43.701021', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 13:23:43.663367', 'stderr': '', 'delta': '0:00:00.037654', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:43.340145', 'stdout': 'web2.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 13:23:43.306297', 'stderr': '', 'delta': '0:00:00.033848', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:43.435921', 'stdout': 'web2.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 13:23:43.393501', 'stderr': '', 'delta': '0:00:00.042420', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web2.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:43.534783', 'stdout': 'www.newdns.lab.', 'cmd': 'dig @192.168.50.10 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 13:23:43.490401', 'stderr': '', 'delta': '0:00:00.044382', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:44.249718', 'stdout': 'ns01.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 13:23:44.200300', 'stderr': '', 'delta': '0:00:00.049418', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:44.682410', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 13:23:44.632449', 'stderr': '', 'delta': '0:00:00.049961', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:44.366829', 'stdout': 'ns01.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 13:23:44.329820', 'stderr': '', 'delta': '0:00:00.037009', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:44.525063', 'stdout': 'ns01.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.10', 'rc': 0, 'start': '2021-09-27 13:23:44.469096', 'stderr': '', 'delta': '0:00:00.055967', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.10', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns01.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.10', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:45.166516', 'stdout': 'ns02.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 13:23:45.118291', 'stderr': '', 'delta': '0:00:00.048225', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:45.542700', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 13:23:45.499680', 'stderr': '', 'delta': '0:00:00.043020', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:45.292349', 'stdout': 'ns02.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 13:23:45.256855', 'stderr': '', 'delta': '0:00:00.035494', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:45.503224', 'stdout': 'ns02.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.11', 'rc': 0, 'start': '2021-09-27 13:23:45.453669', 'stderr': '', 'delta': '0:00:00.049555', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.11', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['ns02.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.11', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:46.096721', 'stdout': 'www.newdns.lab.\nweb1.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 13:23:46.048979', 'stderr': '', 'delta': '0:00:00.047742', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.', 'web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:46.500759', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 13:23:46.458131', 'stderr': '', 'delta': '0:00:00.042628', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:46.198376', 'stdout': 'www.newdns.lab.\nweb1.dns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 13:23:46.158016', 'stderr': '', 'delta': '0:00:00.040360', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.', 'web1.dns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:46.393857', 'stdout': 'web1.dns.lab.\nwww.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.15', 'rc': 0, 'start': '2021-09-27 13:23:46.355378', 'stderr': '', 'delta': '0:00:00.038479', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.15', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['web1.dns.lab.', 'www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.15', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:47.056959', 'stdout': 'www.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 13:23:47.021032', 'stderr': '', 'delta': '0:00:00.035927', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:47.414534', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 13:23:47.364358', 'stderr': '', 'delta': '0:00:00.050176', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:47.201811', 'stdout': 'www.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 13:23:47.165397', 'stderr': '', 'delta': '0:00:00.036414', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:47.270035', 'stdout': 'www.newdns.lab.', 'cmd': 'dig @192.168.50.11 +short -x 192.168.50.16', 'rc': 0, 'start': '2021-09-27 13:23:47.229803', 'stderr': '', 'delta': '0:00:00.040232', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short -x 192.168.50.16', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['www.newdns.lab.'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short -x 192.168.50.16', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:47.938526', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:47.903655', 'stderr': '', 'delta': '0:00:00.034871', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:48.363053', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:48.299883', 'stderr': '', 'delta': '0:00:00.063170', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:48.290991', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:48.252525', 'stderr': '', 'delta': '0:00:00.038466', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:48.197548', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:48.156831', 'stderr': '', 'delta': '0:00:00.040717', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:48.771431', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:48.738403', 'stderr': '', 'delta': '0:00:00.033028', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:49.352817', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:49.291640', 'stderr': '', 'delta': '0:00:00.061177', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:49.310312', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:49.267664', 'stderr': '', 'delta': '0:00:00.042648', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:49.094978', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:49.053599', 'stderr': '', 'delta': '0:00:00.041379', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:49.624870', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:49.587900', 'stderr': '', 'delta': '0:00:00.036970', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:50.337281', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:50.296369', 'stderr': '', 'delta': '0:00:00.040912', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:50.173952', 'stdout': '192.168.50.15', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:50.132918', 'stderr': '', 'delta': '0:00:00.041034', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:50.044977', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:50.006850', 'stderr': '', 'delta': '0:00:00.038127', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:51.249045', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:51.202085', 'stderr': '', 'delta': '0:00:00.046960', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:50.622647', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:50.589501', 'stderr': '', 'delta': '0:00:00.033146', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:51.249945', 'stdout': '192.168.50.16', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:51.202613', 'stderr': '', 'delta': '0:00:00.047332', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:50.965607', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:50.925579', 'stderr': '', 'delta': '0:00:00.040028', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short web2.dns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:52.384488', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:23:52.065415', 'stderr': '', 'delta': '0:00:00.319073', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:51.589950', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:23:51.550582', 'stderr': '', 'delta': '0:00:00.039368', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:52.138125', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:23:52.096556', 'stderr': '', 'delta': '0:00:00.041569', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:51.984012', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.10 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:23:51.945737', 'stderr': '', 'delta': '0:00:00.038275', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:54.136220', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:23:53.644688', 'stderr': '', 'delta': '0:00:00.491532', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:52.638297', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:23:52.601304', 'stderr': '', 'delta': '0:00:00.036993', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:53.203428', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:23:53.140778', 'stderr': '', 'delta': '0:00:00.062650', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:52.963684', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.10 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:23:52.901648', 'stderr': '', 'delta': '0:00:00.062036', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:56.164655', 'stdout': '', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:23:56.008336', 'stderr': '', 'delta': '0:00:00.156319', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:54.095829', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:23:54.018344', 'stderr': '', 'delta': '0:00:00.077485', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:55.110033', 'stdout': '192.168.50.16\n192.168.50.15', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:23:54.968526', 'stderr': '', 'delta': '0:00:00.141507', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16', '192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:54.282060', 'stdout': '192.168.50.16\n192.168.50.15', 'cmd': 'dig @192.168.50.10 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:23:54.214711', 'stderr': '', 'delta': '0:00:00.067349', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.10 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16', '192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.10 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:57.370319', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:57.318124', 'stderr': '', 'delta': '0:00:00.052195', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:56.223968', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:56.157603', 'stderr': '', 'delta': '0:00:00.066365', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:57.020202', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:56.984932', 'stderr': '', 'delta': '0:00:00.035270', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:56.079128', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns01.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:56.042126', 'stderr': '', 'delta': '0:00:00.037002', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.dns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:58.473267', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:58.427460', 'stderr': '', 'delta': '0:00:00.045807', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:57.912165', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:57.873150', 'stderr': '', 'delta': '0:00:00.039015', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:57.951646', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:57.911981', 'stderr': '', 'delta': '0:00:00.039665', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:57.620221', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns02.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:57.539424', 'stderr': '', 'delta': '0:00:00.080797', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.dns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:59.365347', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:59.328916', 'stderr': '', 'delta': '0:00:00.036431', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:58.952789', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:58.906998', 'stderr': '', 'delta': '0:00:00.045791', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:59.038454', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:58.983373', 'stderr': '', 'delta': '0:00:00.055081', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:58.687459', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web1.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:58.647313', 'stderr': '', 'delta': '0:00:00.040146', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web1.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web1.dns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:00.337772', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 13:24:00.268989', 'stderr': '', 'delta': '0:00:00.068783', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:59.896825', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:59.849814', 'stderr': '', 'delta': '0:00:00.047011', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:23:59.614575', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:59.576921', 'stderr': '', 'delta': '0:00:00.037654', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:00.010619', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short web2.dns.lab', 'rc': 0, 'start': '2021-09-27 13:23:59.965645', 'stderr': '', 'delta': '0:00:00.044974', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short web2.dns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short web2.dns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:01.812226', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:24:01.353390', 'stderr': '', 'delta': '0:00:00.458836', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:00.858073', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:24:00.819923', 'stderr': '', 'delta': '0:00:00.038150', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:01.049227', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:24:01.009685', 'stderr': '', 'delta': '0:00:00.039542', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:00.494445', 'stdout': '192.168.50.10', 'cmd': 'dig @192.168.50.11 +short ns01.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:24:00.461248', 'stderr': '', 'delta': '0:00:00.033197', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns01.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.10'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns01.newdns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:03.053024', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:24:02.754539', 'stderr': '', 'delta': '0:00:00.298485', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:01.760629', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:24:01.724922', 'stderr': '', 'delta': '0:00:00.035707', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:01.856868', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:24:01.821434', 'stderr': '', 'delta': '0:00:00.035434', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:01.392840', 'stdout': '192.168.50.11', 'cmd': 'dig @192.168.50.11 +short ns02.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:24:01.349934', 'stderr': '', 'delta': '0:00:00.042906', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short ns02.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.11'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short ns02.newdns.lab', 'ansible_loop_var': 'item'})
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:04.119292', 'stdout': '', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:24:03.789442', 'stderr': '', 'delta': '0:00:00.329850', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client2] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:02.857845', 'stdout': '192.168.50.16\n192.168.50.15', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:24:02.819828', 'stderr': '', 'delta': '0:00:00.038017', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16', '192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns01] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:02.756903', 'stdout': '192.168.50.16\n192.168.50.15', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:24:02.721100', 'stderr': '', 'delta': '0:00:00.035803', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.16', '192.168.50.15'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [ns02] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:02.216646', 'stdout': '192.168.50.15\n192.168.50.16', 'cmd': 'dig @192.168.50.11 +short www.newdns.lab', 'rc': 0, 'start': '2021-09-27 13:24:02.166203', 'stderr': '', 'delta': '0:00:00.050443', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'dig @192.168.50.11 +short www.newdns.lab', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['192.168.50.15', '192.168.50.16'], 'stderr_lines': [], 'failed': False, 'item': 'dig @192.168.50.11 +short www.newdns.lab', 'ansible_loop_var': 'item'})
skipping: [client1] => (item={'changed': False, 'skipped': True, 'skip_reason': 'Conditional result was False', 'item': None, 'ansible_loop_var': 'item'}) 
changed: [client2 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:04.739184', 'stdout': 'zone localhost.localdomain/IN: loaded serial 0\nzone localhost/IN: loaded serial 0\nzone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0\nzone 1.0.0.127.in-addr.arpa/IN: loaded serial 0\nzone 0.in-addr.arpa/IN: loaded serial 0', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 13:24:04.678506', 'stderr': '', 'delta': '0:00:00.060678', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone localhost.localdomain/IN: loaded serial 0', 'zone localhost/IN: loaded serial 0', 'zone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0', 'zone 1.0.0.127.in-addr.arpa/IN: loaded serial 0', 'zone 0.in-addr.arpa/IN: loaded serial 0'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
changed: [ns01 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:03.809158', 'stdout': "zone dns.lab/IN: NS 'ns01.dns.lab' has no address records (A or AAAA)\nzone dns.lab/IN: NS 'ns02.dns.lab' has no address records (A or AAAA)\nzone dns.lab/IN: not loaded due to errors.\nzone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407\nzone newdns.lab/IN: loaded serial 2711201407\nzone dns.lab/IN: loaded serial 2711201407\nzone dns.lab/IN: loaded serial 2711201407\nzone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407\nzone newdns.lab/IN: loaded serial 2711201407", 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 13:24:03.690191', 'stderr': 'client1/dns.lab/IN: bad zone', 'delta': '0:00:00.118967', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ["zone dns.lab/IN: NS 'ns01.dns.lab' has no address records (A or AAAA)", "zone dns.lab/IN: NS 'ns02.dns.lab' has no address records (A or AAAA)", 'zone dns.lab/IN: not loaded due to errors.', 'zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407', 'zone newdns.lab/IN: loaded serial 2711201407', 'zone dns.lab/IN: loaded serial 2711201407', 'zone dns.lab/IN: loaded serial 2711201407', 'zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407', 'zone newdns.lab/IN: loaded serial 2711201407'], 'stderr_lines': ['client1/dns.lab/IN: bad zone'], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
changed: [client1 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:03.187570', 'stdout': 'zone localhost.localdomain/IN: loaded serial 0\nzone localhost/IN: loaded serial 0\nzone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0\nzone 1.0.0.127.in-addr.arpa/IN: loaded serial 0\nzone 0.in-addr.arpa/IN: loaded serial 0', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 13:24:03.099226', 'stderr': '', 'delta': '0:00:00.088344', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': ['zone localhost.localdomain/IN: loaded serial 0', 'zone localhost/IN: loaded serial 0', 'zone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa/IN: loaded serial 0', 'zone 1.0.0.127.in-addr.arpa/IN: loaded serial 0', 'zone 0.in-addr.arpa/IN: loaded serial 0'], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})
changed: [ns02 -> localhost] => (item={'changed': True, 'end': '2021-09-27 13:24:03.629025', 'stdout': '', 'cmd': 'sudo named-checkconf -z', 'rc': 0, 'start': '2021-09-27 13:24:03.526319', 'stderr': '', 'delta': '0:00:00.102706', 'invocation': {'module_args': {'creates': None, 'executable': None, '_uses_shell': True, 'strip_empty_ends': True, '_raw_params': 'sudo named-checkconf -z', 'removes': None, 'argv': None, 'warn': False, 'chdir': None, 'stdin_add_newline': True, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'failed': False, 'item': 'sudo named-checkconf -z', 'ansible_loop_var': 'item'})

PLAY RECAP *********************************************************************
client1                    : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
client2                    : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns01                       : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ns02                       : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


```

</details>

### Итог для client1:

```text
клиент1 - видит обе зоны, но в зоне dns.lab только web1
```
то есть как я понял
```text
клиент1 - видит ВСЁ в зоне newdns.lab и в зоне dns.lab ТОЛЬКО web1
```


<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
www.newdns.lab.
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.16
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

### Итог для client2:

```text
клиент2 - видит только dns.lab
```
то есть как я понял
```text
клиент1 - видит ВСЁ в зоне dns.lab и зону newdns.lab ВООБЩЕ НЕ ВИДИТ
```


<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text

```

</details>

### Итог для ns01:

АБСОЛЮТНАЯ видимость


<details><summary>см. лог исполнения `sudo named-checkconf -z`</summary>

```text
zone dns.lab/IN: NS 'ns01.dns.lab' has no address records (A or AAAA)
zone dns.lab/IN: NS 'ns02.dns.lab' has no address records (A or AAAA)
zone dns.lab/IN: not loaded due to errors.
zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407
zone newdns.lab/IN: loaded serial 2711201407
zone dns.lab/IN: loaded serial 2711201407
zone dns.lab/IN: loaded serial 2711201407
zone 50.168.192.in-addr.arpa/IN: loaded serial 2711201407
zone newdns.lab/IN: loaded serial 2711201407
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.newdns.lab.
ns02.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
web1.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
www.newdns.lab.
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.dns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.15
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns01.newdns.lab`</summary>

```text
192.168.50.10
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.16
192.168.50.15
```

</details>

### Итог для ns02:

АБСОЛЮТНАЯ видимость


<details><summary>см. лог исполнения `sudo named-checkconf -z`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.10`</summary>

```text
ns01.dns.lab.
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.11`</summary>

```text
ns02.dns.lab.
ns02.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.15`</summary>

```text
www.newdns.lab.
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short -x 192.168.50.16`</summary>

```text
web2.dns.lab.
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.10`</summary>

```text
ns01.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.11`</summary>

```text
ns02.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.15`</summary>

```text
www.newdns.lab.
web1.dns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short -x 192.168.50.16`</summary>

```text
www.newdns.lab.
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.dns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web1.dns.lab`</summary>

```text
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short web2.dns.lab`</summary>

```text
192.168.50.16
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.10 +short www.newdns.lab`</summary>

```text
192.168.50.16
192.168.50.15
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web1.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short web2.dns.lab`</summary>

```text

```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short ns02.newdns.lab`</summary>

```text
192.168.50.11
```

</details>

<details><summary>см. лог исполнения `dig @192.168.50.11 +short www.newdns.lab`</summary>

```text
192.168.50.16
192.168.50.15
```

</details>

## На потом

А чем `nslookup` лучше/хуже `dig`:

```shell
nslookup www.dns.lab 192.168.50.10

  Server:		192.168.50.10
  Address:	192.168.50.10#53
  
  ** server can't find www.dns.lab: NXDOMAIN

nslookup www.newdns.lab 192.168.50.10
  
  Server:		192.168.50.10
  Address:	192.168.50.10#53
  
  Name:	www.newdns.lab
  Address: 192.168.50.16
  Name:	www.newdns.lab
  Address: 192.168.50.15

```

## Для развития

* Задача про split dns - это точно задача про split dns. Я как понял, главное  предназначение Split, это выдача различных действующих ip адресов одной и той же зоны для разных сегментов сети (у разной адресации клиентов будут разные ip доменов). А тут как бы просто ограничение доступа по доменам?
* Неужели не существует фреймворка/утилиты, которая бы по many-to-many структуре и шаблончикам файлов на той же jinja сгенерировала (со всеми фишками наследования и вложения) бы конфиги для BIND сервера DNS?